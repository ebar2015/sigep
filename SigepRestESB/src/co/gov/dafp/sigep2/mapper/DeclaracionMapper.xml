<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.gov.dafp.sigep2.interfaces.DeclaracionMapper">
  <resultMap id="BaseResultMap" type="co.gov.dafp.sigep2.bean.Declaracion">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 29 16:41:23 COT 2018.
    -->
    <id column="COD_DECLARACION" jdbcType="NUMERIC" property="codDeclaracion" />
    <result column="COD_PERSONA" jdbcType="NUMERIC" property="codPersona" />
    <result column="COD_TIPO_DECLARACION" jdbcType="NUMERIC" property="codTipoDeclaracion" />
    <result column="ANNO_DECLARACION" jdbcType="NUMERIC" property="annoDeclaracion" />
    <result column="FECHA_INICIO" jdbcType="TIMESTAMP" property="fechaInicio" />
    <result column="FECHA_FIN" jdbcType="TIMESTAMP" property="fechaFin" />
    <result column="FECHA_PRESENTACION" jdbcType="TIMESTAMP" property="fechaPresentacion" />
    <result column="FLG_EXTEMPORANEA" jdbcType="NUMERIC" property="flgExtemporanea" />
    <result column="ENTIDAD_RECEPTORA" jdbcType="VARCHAR" property="entidadReceptora" />
    <result column="CONFIRMACION" jdbcType="NUMERIC" property="confirmacion" />
    <result column="AUD_FECHA_ACTUALIZACION" jdbcType="TIMESTAMP" property="audFechaActualizacion" />
    <result column="AUD_COD_USUARIO" jdbcType="NUMERIC" property="audCodUsuario" />
    <result column="AUD_COD_ROL" jdbcType="NUMERIC" property="audCodRol" />
    <result column="AUD_ACCION" jdbcType="NUMERIC" property="audAccion" />
    <result column="TAB_INDEX" jdbcType="NUMERIC" property="tabIndex" />
    <result column="FLG_TENGO_OTROS_INGRESOS" jdbcType="NUMERIC" property="flgTengoOtrosIngresos" />
    <result column="FLG_ACTIVIDAD_ECONOMICA_PRIVADA" jdbcType="NUMERIC" property="flgActividadEconomicaPrivada" />
    <result column="FLG_ACREENCIA_OBLIGACION" jdbcType="NUMERIC" property="flgAcreenciaObligacion" />
    <result column="FLG_SIN_BIENES_PATRIMONIALES" jdbcType="NUMERIC" property="flgSinBienesPatrimoniales" />
    <result column="FLG_SIN_CUENTAS_AHORRO" jdbcType="NUMERIC" property="flgSinCuentasAhorro" />
    <result column="FLG_SIN_PARIENTES_CONYUGUES" jdbcType="NUMERIC" property="flgSinParientesConyugues" />
    <result column="FLG_SIN_PARTICIPACION_JUNTAS" jdbcType="NUMERIC" property="flgSinParticipacionJuntas" />
    <result column="FLG_MODIFICADO" jdbcType="NUMERIC" property="flgModificado" />
    <result column="TOTAL_INGRESOS" jdbcType="NUMERIC" property="totalIngresos" />
    <result column="FLG_TENGO_INGRESOS_LABORALES" jdbcType="NUMERIC" property="flgTengoIngresosLaborales" />
    <result column="COD_DECLARACION_ANT" jdbcType="NUMERIC" property="codDeclaracionAnt" />
    <result column="TIPO_MODIFICACION" jdbcType="NUMERIC" property="tipoModificacion" />
  </resultMap>
  
  <resultMap id="BaseResultMapExt" type="co.gov.dafp.sigep2.bean.ext.DeclaracionExt">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue May 15 16:04:29 COT 2018.
    -->
     <id column="COD_DECLARACION" jdbcType="NUMERIC" property="codDeclaracion" />
    <result column="COD_PERSONA" jdbcType="NUMERIC" property="codPersona" />
    <result column="COD_TIPO_DECLARACION" jdbcType="NUMERIC" property="codTipoDeclaracion" />
    <result column="ANNO_DECLARACION" jdbcType="NUMERIC" property="annoDeclaracion" />
    <result column="FECHA_INICIO" jdbcType="TIMESTAMP" property="fechaInicio" />
    <result column="FECHA_FIN" jdbcType="TIMESTAMP" property="fechaFin" />
    <result column="FECHA_PRESENTACION" jdbcType="TIMESTAMP" property="fechaPresentacion" />
    <result column="FLG_EXTEMPORANEA" jdbcType="NUMERIC" property="flgExtemporanea" />
    <result column="ENTIDAD_RECEPTORA" jdbcType="VARCHAR" property="entidadReceptora" />
    <result column="CONFIRMACION" jdbcType="NUMERIC" property="confirmacion" />
    <result column="AUD_FECHA_ACTUALIZACION" jdbcType="TIMESTAMP" property="audFechaActualizacion" />
    <result column="AUD_COD_USUARIO" jdbcType="NUMERIC" property="audCodUsuario" />
    <result column="AUD_COD_ROL" jdbcType="NUMERIC" property="audCodRol" />
    <result column="AUD_ACCION" jdbcType="NUMERIC" property="audAccion" />
    <result column="TAB_INDEX" jdbcType="NUMERIC" property="tabIndex" />
    <result column="FLG_TENGO_OTROS_INGRESOS" jdbcType="NUMERIC" property="flgTengoOtrosIngresos" />
    <result column="FLG_ACTIVIDAD_ECONOMICA_PRIVADA" jdbcType="NUMERIC" property="flgActividadEconomicaPrivada" />
    <result column="FLG_ACREENCIA_OBLIGACION" jdbcType="NUMERIC" property="flgAcreenciaObligacion" />
    <result column="FLG_SIN_BIENES_PATRIMONIALES" jdbcType="NUMERIC" property="flgSinBienesPatrimoniales" />
    <result column="FLG_SIN_CUENTAS_AHORRO" jdbcType="NUMERIC" property="flgSinCuentasAhorro" />
    <result column="FLG_SIN_PARIENTES_CONYUGUES" jdbcType="NUMERIC" property="flgSinParientesConyugues" />
    <result column="FLG_SIN_PARTICIPACION_JUNTAS" jdbcType="NUMERIC" property="flgSinParticipacionJuntas" />
    <result column="FLG_MODIFICADO" jdbcType="NUMERIC" property="flgModificado" />
    <result column="TOTAL_INGRESOS" jdbcType="NUMERIC" property="totalIngresos" />
    <result column="FLG_TENGO_INGRESOS_LABORALES" jdbcType="NUMERIC" property="flgTengoIngresosLaborales" />
    <result column="COD_DECLARACION_ANT" jdbcType="NUMERIC" property="codDeclaracionAnt" />
    <result column="TIPO_MODIFICACION" jdbcType="NUMERIC" property="tipoModificacion" />
    
    <result column="FECHA_INI_D" jdbcType="TIMESTAMP" property="fechaIniD" />
    <result column="FECHA_FNI_D" jdbcType="TIMESTAMP" property="fechaFniD" />
    <result column="NOMBRE_TIPO_DECLARACION" jdbcType="VARCHAR" property="nombreTipoDeclaracion" />
    <result column="COD_TIPO_DOCUMENTO" jdbcType="NUMERIC" property="codTipoDocumento" />
    <result column="TOTAL" jdbcType="NUMERIC" property="total" />
    <result column="NOMBRE_TIPO_DOCUMENTO" jdbcType="VARCHAR" property="nombreTipoDocumento" />
    <result column="NOMBRES" jdbcType="VARCHAR" property="nombres" />
    <result column="APELLIDOS" jdbcType="VARCHAR" property="apellidos" />
    <result column="NUMERO_IDENTIFICACION" jdbcType="VARCHAR" property="numeroIdentificacion" />
	<result column="PERIODO_INICIAL" jdbcType="TIMESTAMP" property="periodoInicial" />
	<result column="PERIODO_FINAL" jdbcType="TIMESTAMP" property="periodoFinal" />	
	<result column="NOMBRE_COMPLETO" jdbcType="VARCHAR" property="nombreCompleto" />
	<result column="COD_ENTIDAD" jdbcType="NUMERIC" property="codEntidad" />
  </resultMap>
  
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 29 16:41:23 COT 2018.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 29 16:41:23 COT 2018.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 29 16:41:23 COT 2018.
    -->
    COD_DECLARACION, COD_PERSONA, COD_TIPO_DECLARACION, ANNO_DECLARACION, FECHA_INICIO, 
    FECHA_FIN, FECHA_PRESENTACION, FLG_EXTEMPORANEA, ENTIDAD_RECEPTORA, CONFIRMACION, 
    AUD_FECHA_ACTUALIZACION, AUD_COD_USUARIO, AUD_COD_ROL, AUD_ACCION, TAB_INDEX, FLG_TENGO_OTROS_INGRESOS, 
    FLG_ACTIVIDAD_ECONOMICA_PRIVADA, FLG_ACREENCIA_OBLIGACION, FLG_SIN_BIENES_PATRIMONIALES, 
    FLG_SIN_CUENTAS_AHORRO, FLG_SIN_PARIENTES_CONYUGUES, FLG_SIN_PARTICIPACION_JUNTAS, 
    FLG_MODIFICADO, TOTAL_INGRESOS, FLG_TENGO_INGRESOS_LABORALES, COD_DECLARACION_ANT, TIPO_MODIFICACION
  </sql>
  <select id="selectByExample" parameterType="co.gov.dafp.sigep2.bean.DeclaracionExample" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 29 16:41:23 COT 2018.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from DECLARACION
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectUltima" parameterType="java.math.BigDecimal" resultMap="BaseResultMap">
   select * FROM DECLARACION
   WHERE COD_PERSONA = #{codPersona,jdbcType=NUMERIC}
    AND CONFIRMACION = 0
   order by AUD_FECHA_ACTUALIZACION DESC
   OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY
  </select>
  <select id="selectCarga" parameterType="java.math.BigDecimal" resultMap="BaseResultMap">
  select * FROM DECLARACION
   WHERE COD_PERSONA = #{codPersona,jdbcType=NUMERIC}
   order by AUD_FECHA_ACTUALIZACION DESC
   OFFSET 1 ROWS FETCH NEXT 1 ROWS ONLY
  </select>
  
  <select id="selectDate" parameterType="co.gov.dafp.sigep2.bean.Declaracion" resultMap="BaseResultMap">
   select * FROM DECLARACION
   WHERE COD_PERSONA = #{codPersona,jdbcType=NUMERIC}
    AND TAB_INDEX =  #{tabIndex,jdbcType=NUMERIC}
    ORDER BY AUD_FECHA_ACTUALIZACION DESC
    OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY
  </select>
  
  <select id="select822" parameterType="java.math.BigDecimal" resultMap="BaseResultMapExt">
 	select * from(
 	SELECT  D.*, (SELECT NOMBRE_PARAMETRO FROM PARAMETRICA WHERE COD_TABLA_PARAMETRICA = D.COD_TIPO_DECLARACION) AS NOMBRE_TIPO_DECLARACION
 	FROM DECLARACION D
 	WHERE D.COD_PERSONA = #{codPersona,jdbcType=NUMERIC}
 	AND D.CONFIRMACION = 1
 	AND D.FLG_MODIFICADO = 0
 	AND D.COD_TIPO_DECLARACION = 822
 	ORDER BY D.FECHA_PRESENTACION DESC)a
 	OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY
  </select>
  
  <select id="select743" parameterType="java.math.BigDecimal" resultMap="BaseResultMapExt">
 	select * from (
 	SELECT  D.*, (SELECT NOMBRE_PARAMETRO FROM PARAMETRICA WHERE COD_TABLA_PARAMETRICA = D.COD_TIPO_DECLARACION) AS NOMBRE_TIPO_DECLARACION
 	FROM DECLARACION D
 	WHERE D.COD_PERSONA = #{codPersona,jdbcType=NUMERIC}
 	AND D.CONFIRMACION = 1
 	AND D.FLG_MODIFICADO = 0
 	AND D.COD_TIPO_DECLARACION = 743
 	ORDER BY D.FECHA_PRESENTACION DESC)a
 	OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY
  </select>
  <select id="select741" parameterType="java.math.BigDecimal" resultMap="BaseResultMapExt">
    select * from (
    SELECT  D.*, (SELECT NOMBRE_PARAMETRO FROM PARAMETRICA WHERE COD_TABLA_PARAMETRICA = D.COD_TIPO_DECLARACION) AS NOMBRE_TIPO_DECLARACION
 	FROM DECLARACION D
 	WHERE D.COD_PERSONA = #{codPersona,jdbcType=NUMERIC}
 	AND D.CONFIRMACION = 1
 	AND D.FLG_MODIFICADO = 0
 	AND D.COD_TIPO_DECLARACION = 741
 	ORDER BY D.FECHA_PRESENTACION DESC)a
 	OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY
  </select>
  
  <select id="selectModificadas" parameterType="java.math.BigDecimal" resultMap="BaseResultMapExt">
 	select * from (
 	SELECT  D.*, (SELECT NOMBRE_PARAMETRO FROM PARAMETRICA WHERE COD_TABLA_PARAMETRICA = D.COD_TIPO_DECLARACION) AS NOMBRE_TIPO_DECLARACION
 	FROM DECLARACION D
 	WHERE D.COD_PERSONA = #{codPersona,jdbcType=NUMERIC}
 	AND D.CONFIRMACION = 0
 	AND D.COD_TIPO_DECLARACION = 742
 	ORDER BY D.FECHA_PRESENTACION DESC)a
 	OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY
  </select>
  
  <select id="selectTotalDeclaracion" parameterType="java.math.BigDecimal" resultMap="BaseResultMapExt">
   SELECT SUM(A.VALOR + B.VALOR) AS TOTAL_INGRESOS  FROM
		INGRESOS_DECLARACION A, OTROS_INGRESOS_DECLARACION B, DECLARACION C
		WHERE A.COD_DECLARACION = B.COD_DECLARACION
		AND C.COD_DECLARACION = A.COD_DECLARACION
		AND C.COD_DECLARACION = B.COD_DECLARACION
		AND C.COD_DECLARACION = #{codDeclaracion,jdbcType=NUMERIC}
  </select>
  <select id="selectDeclaracionCreacion" parameterType="co.gov.dafp.sigep2.bean.Declaracion" resultMap="BaseResultMap">
   select 
	 <include refid="Base_Column_List" />
   FROM DECLARACION
   WHERE COD_PERSONA = #{codPersona,jdbcType=NUMERIC}
     <if test="codTipoDeclaracion != null">
		AND COD_TIPO_DECLARACION = #{codTipoDeclaracion,jdbcType=NUMERIC}
    </if>
    <if test="annoDeclaracion != null">
	  AND  ANNO_DECLARACION = #{annoDeclaracion,jdbcType=NUMERIC}
	</if>
    <if test="confirmacion != null">
		AND  CONFIRMACION = #{confirmacion,jdbcType=NUMERIC}
    </if>
    <if test="fechaInicio != null">
		AND  FECHA_INICIO = #{fechaInicio,jdbcType=TIMESTAMP}
    </if>
    
    <if test="fechaFin != null">
		AND  FECHA_FIN = #{fechaFin,jdbcType=TIMESTAMP}
    </if>
    
    
    	order by AUD_FECHA_ACTUALIZACION desc
  </select>
  <select id="selectDeclaracionFiltroRol" parameterType="co.gov.dafp.sigep2.bean.ext.DeclaracionExt" resultMap="BaseResultMapExt">
		SELECT
		    COUNT(*) OVER () AS total_registros,
		    D.*,
		    CONCAT(P.primer_nombre, ' ', COALESCE(P.segundo_nombre, '')) AS nombres,
		    CONCAT(P.primer_apellido, ' ', COALESCE(P.segundo_apellido, '')) AS apellidos,
		    CONCAT(P.primer_nombre, ' ', COALESCE(P.segundo_nombre, ''), ' ', P.primer_apellido, ' ', COALESCE(P.segundo_apellido, '')) AS nombre_completo,
		    (SELECT nombre_parametro FROM PARAMETRICA WHERE COD_TABLA_PARAMETRICA = D.COD_TIPO_DECLARACION) AS nombre_tipo_declaracion,
		    (SELECT nombre_parametro FROM PARAMETRICA WHERE COD_TABLA_PARAMETRICA = P.COD_TIPO_IDENTIFICACION) AS nombre_tipo_documento,
		    P.numero_identificacion
		FROM 
		    declaracion D
		    INNER JOIN PERSONA P ON D.COD_PERSONA = P.COD_PERSONA
		    INNER JOIN HOJA_VIDA HV ON HV.COD_PERSONA = D.COD_PERSONA
		    INNER JOIN USUARIO U ON HV.COD_PERSONA = U.COD_PERSONA
		    INNER JOIN USUARIO_ENTIDAD UE ON U.COD_USUARIO = UE.COD_USUARIO AND HV.COD_ENTIDAD = UE.COD_ENTIDAD
			WHERE 1=1
	<if test="codEntidad != null">
		and ue.cod_entidad in (SELECT E. COD_ENTIDAD FROM ENTIDAD E
            INNER JOIN USUARIO_ENTIDAD UE ON UE.COD_ENTIDAD = E. COD_ENTIDAD
            INNER JOIN USUARIO U ON U.COD_USUARIO = UE.COD_USUARIO
            INNER JOIN PERSONA P ON P.COD_PERSONA = U.COD_PERSONA
            WHERE UE.cod_entidad = #{codEntidad,jdbcType=NUMERIC}
            AND U.FLG_ESTADO = 1
            AND UE.FLG_ACTIVO = 1)
		AND UE.FLG_ACTIVO = 1
		AND U.FLG_ESTADO = 1
    </if>
	 <if test="codTipoDocumento != null">
		AND  P.COD_TIPO_IDENTIFICACION = #{codTipoDocumento,jdbcType=NUMERIC}
    </if>
     <if test="codPersona != null">
		AND  D.COD_PERSONA = #{codPersona,jdbcType=NUMERIC}
    </if>
     <if test="codTipoDeclaracion != null">
		AND  D.COD_TIPO_DECLARACION = #{codTipoDeclaracion,jdbcType=NUMERIC}
    </if>
	 <if test="fechaIniD != null">
	    <if test="fechaFniD != null">
		  AND  D.FECHA_PRESENTACION BETWEEN #{fechaIniD,jdbcType=TIMESTAMP} AND  #{fechaFniD,jdbcType=TIMESTAMP} 
    		</if>
    </if>
     <if test="fechaInicio != null">
	     AND  D.FECHA_INICIO = #{fechaInicio,jdbcType=TIMESTAMP}
    </if>
    <if test="fechaFin != null">
		 AND  D.FECHA_FIN = #{fechaFin,jdbcType=TIMESTAMP}
    </if>
    
   <if test="periodoInicial != null">
    	<if test="periodoFinal == null">
    		AND  TO_CHAR(D.FECHA_INICIO,'YYYY') = TO_CHAR(#{periodoInicial,jdbcType=TIMESTAMP},'YYYY')
    	</if>
    	
    	<if test="periodoFinal != null">
    		AND TO_CHAR(D.FECHA_INICIO,'YYYY') &gt;= TO_CHAR(#{periodoInicial,jdbcType=TIMESTAMP},'YYYY')
    		AND TO_CHAR(D.FECHA_FIN,'YYYY') &lt;= TO_CHAR(#{periodoFinal,jdbcType=TIMESTAMP},'YYYY')
    	</if>
    	 
    </if>
    
    <if test="periodoFinal != null">
	    <if test="periodoInicial == null">
	    	AND TO_CHAR(D.FECHA_FIN) &lt;= TO_CHAR(#{periodoFinal,jdbcType=TIMESTAMP},'YYYY')
	    </if>
    </if>    
    
    
    <if test="nombres != null">
		AND  UPPER(CONCAT(P.PRIMER_NOMBRE,P.SEGUNDO_NOMBRE)) like '%'||UPPER(#{nombres,jdbcType=VARCHAR})||'%' 
    </if>
    <if test="apellidos != null">
		AND  UPPER(CONCAT(P.PRIMER_APELLIDO,P.SEGUNDO_APELLIDO)) like '%'||UPPER(#{apellidos,jdbcType=VARCHAR})||'%' 
    </if>
    <if test="entidadReceptora != null">
		AND  UPPER(D.ENTIDAD_RECEPTORA)  like '%'||UPPER(#{entidadReceptora,jdbcType=VARCHAR})||'%'
    </if>
    <if test="flgExtemporanea != null">
		AND  D.FLG_EXTEMPORANEA = #{flgExtemporanea,jdbcType=VARCHAR}
    </if>
    <if test="numeroIdentificacion != null">
		AND  P.NUMERO_IDENTIFICACION = #{numeroIdentificacion,jdbcType=VARCHAR}
    </if>
    <if test="flgModificado != null">
		AND  D.FLG_MODIFICADO = #{flgModificado,jdbcType=NUMERIC}
    </if>
     <if test="confirmacion != null">
		AND  D.CONFIRMACION = #{confirmacion,jdbcType=NUMERIC}
    </if>
		GROUP BY D.cod_declaracion, D.*, nombres, apellidos, nombre_completo, nombre_tipo_declaracion, nombre_tipo_documento, P.numero_identificacion    
    <if test="fieldName != null and ascDesc != null">
	    order by
	        <choose>  
	            <when test="fieldName == 'nombreTipoDeclaracion'">
	                NOMBRE_TIPO_DECLARACION 
	            </when>         
	            <when test="fieldName == 'fechaInicio'">
	                D.FECHA_INICIO 
	            </when> 
	            <when test="fieldName == 'fechaFin'">
	                D.FECHA_FIN 
	            </when> 
	            <when test="fieldName == 'fechaPresentacion'">
	                D.FECHA_PRESENTACION 
	            </when> 
	            
	            <when test="fieldName == 'nombreTipoDocumento'">
	                NOMBRE_TIPO_DOCUMENTO 
	            </when>
	            
	            <when test="fieldName == 'numeroIdentificacion'">
	                P.NUMERO_IDENTIFICACION 
	            </when>  
	            
	            <when test="fieldName == 'entidadReceptora'">
	                D.ENTIDAD_RECEPTORA 
	            </when> 
	            <when test="fieldName == 'extmp'">
	                D.FLG_EXTEMPORANEA 
	            </when>
	              
	            <when test="fieldName == 'modifi'">
					D.FLG_MODIFICADO 
				</when>
				<when test="fieldName == 'nombreCompleto'">
					NOMBRE_COMPLETO 
				</when>                                                                 
	        </choose>               
	        <if test="ascDesc == 'ASC'">
	            asc 
	        </if>            
	        <if test="ascDesc == 'DESC'">
	            desc 
	        </if>   
	 </if>
    
    <if test="fieldName == null and ascDesc == null">
    	order by FECHA_PRESENTACION desc
    </if>
    
   	OFFSET #{limitIni,jdbcType=NUMERIC} ROWS FETCH NEXT #{limitFin,jdbcType=NUMERIC} ROWS ONLY
  </select>
  <select id="selectDeclaracionFiltro" parameterType="co.gov.dafp.sigep2.bean.ext.DeclaracionExt" resultMap="BaseResultMapExt">
   select 
    count(*) over() TOTAL,
    D.* ,
	CONCAT(CONCAT(P.PRIMER_NOMBRE,' '),CONCAT(P.SEGUNDO_NOMBRE,' ')) AS NOMBRES,
	CONCAT(CONCAT(P.PRIMER_APELLIDO,' '),CONCAT(P.SEGUNDO_APELLIDO,' ')) AS APELLIDOS,
	P.PRIMER_NOMBRE || ' '|| P.SEGUNDO_NOMBRE || ' ' || P.PRIMER_APELLIDO || ' ' ||P.SEGUNDO_APELLIDO AS NOMBRE_COMPLETO,
	(SELECT NOMBRE_PARAMETRO FROM PARAMETRICA WHERE COD_TABLA_PARAMETRICA = D.COD_TIPO_DECLARACION) AS NOMBRE_TIPO_DECLARACION,
	(SELECT NOMBRE_PARAMETRO FROM PARAMETRICA WHERE COD_TABLA_PARAMETRICA = P.COD_TIPO_IDENTIFICACION) AS NOMBRE_TIPO_DOCUMENTO,
	P.NUMERO_IDENTIFICACION
	FROM DECLARACION D
		INNER JOIN PERSONA P on D.COD_PERSONA = P.COD_PERSONA
        INNER JOIN USUARIO U on p.COD_PERSONA = U.COD_PERSONA
	WHERE 1=1
	AND U.FLG_ESTADO = 1
	 <if test="codTipoDocumento != null">
		AND  P.COD_TIPO_IDENTIFICACION = #{codTipoDocumento,jdbcType=NUMERIC}
    </if>
     <if test="codPersona != null">
		AND  D.COD_PERSONA = #{codPersona,jdbcType=NUMERIC}
    </if>
     <if test="codTipoDeclaracion != null">
		AND  D.COD_TIPO_DECLARACION = #{codTipoDeclaracion,jdbcType=NUMERIC}
    </if>
	 <if test="fechaIniD != null">
	    <if test="fechaFniD != null">
		  AND  D.FECHA_PRESENTACION BETWEEN #{fechaIniD,jdbcType=TIMESTAMP} AND  #{fechaFniD,jdbcType=TIMESTAMP} 
    		</if>
    </if>
     <if test="fechaInicio != null">
	     AND  D.FECHA_INICIO = #{fechaInicio,jdbcType=TIMESTAMP}
    </if>
     <if test="fechaFin != null">
		 AND  D.FECHA_FIN = #{fechaFin,jdbcType=TIMESTAMP}
    	</if>
    <if test="nombres != null">
		AND  UPPER(CONCAT(P.PRIMER_NOMBRE,P.SEGUNDO_NOMBRE)) like '%'||UPPER(#{nombres,jdbcType=VARCHAR})||'%' 
    </if>
    <if test="apellidos != null">
		AND  UPPER(CONCAT(P.PRIMER_APELLIDO,P.SEGUNDO_APELLIDO)) like '%'||UPPER(#{apellidos,jdbcType=VARCHAR})||'%' 
    </if>
    <if test="entidadReceptora != null">
		AND  UPPER(D.ENTIDAD_RECEPTORA)  like '%'||UPPER(#{entidadReceptora,jdbcType=VARCHAR})||'%'
    </if>
      <if test="flgExtemporanea != null">
			AND  D.FLG_EXTEMPORANEA = #{flgExtemporanea,jdbcType=VARCHAR}
    </if>
    <if test="numeroIdentificacion != null">
		AND  P.NUMERO_IDENTIFICACION = #{numeroIdentificacion,jdbcType=VARCHAR}
    </if>
     <if test="flgModificado != null">
		AND  D.FLG_MODIFICADO = #{flgModificado,jdbcType=NUMERIC}
    </if>
     <if test="confirmacion != null">
		AND  D.CONFIRMACION = #{confirmacion,jdbcType=NUMERIC}
    </if>
    <if test="fieldName != null and ascDesc != null">
	    order by
	        <choose>  
	            <when test="fieldName == 'nombreTipoDeclaracion'">
	                NOMBRE_TIPO_DECLARACION 
	            </when>         
	            <when test="fieldName == 'fechaInicio'">
	                D.FECHA_INICIO 
	            </when> 
	            <when test="fieldName == 'fechaFin'">
	                D.FECHA_FIN 
	            </when> 
	            <when test="fieldName == 'fechaPresentacion'">
	                D.FECHA_PRESENTACION 
	            </when> 
	            
	            <when test="fieldName == 'nombreTipoDocumento'">
	                NOMBRE_TIPO_DOCUMENTO 
	            </when>
	            
	            <when test="fieldName == 'numeroIdentificacion'">
	                P.NUMERO_IDENTIFICACION 
	            </when>  
	            
	            <when test="fieldName == 'entidadReceptora'">
	                ENTIDAD_RECEPTORA 
	            </when>  
	            <when test="fieldName == 'extmp'">
					FLG_EXTEMPORANEA 
				</when>
	            <when test="fieldName == 'modifi'">
					FLG_MODIFICADO 
				</when>
				 <when test="fieldName == 'nombreCompleto'">
					NOMBRE_COMPLETO 
				</when>                                                    
	        </choose>               
	        <if test="ascDesc == 'ASC'">
	            asc 
	        </if>            
	        <if test="ascDesc == 'DESC'">
	            desc 
	        </if>   
	 </if>
    
    <if test="fieldName == null and ascDesc == null">
    	order by FECHA_PRESENTACION desc
    </if>
    	OFFSET #{limitIni,jdbcType=NUMERIC} ROWS FETCH NEXT #{limitFin,jdbcType=NUMERIC} ROWS ONLY
  </select>
  
  <select id="selectByPrimaryKey" parameterType="java.math.BigDecimal" resultMap="BaseResultMapExt">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 02 07:43:22 COT 2018.
    -->
    select 
    (SELECT NOMBRE_PARAMETRO FROM PARAMETRICA WHERE COD_TABLA_PARAMETRICA = COD_TIPO_DECLARACION) AS NOMBRE_TIPO_DECLARACION,
    <include refid="Base_Column_List" />
    from DECLARACION
    where COD_DECLARACION = #{codDeclaracion,jdbcType=NUMERIC}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.math.BigDecimal">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 29 16:41:23 COT 2018.
    -->
    delete from DECLARACION
    where COD_DECLARACION = #{codDeclaracion,jdbcType=NUMERIC}
  </delete>
  <delete id="deleteByExample" parameterType="co.gov.dafp.sigep2.bean.DeclaracionExample">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 29 16:41:23 COT 2018.
    -->
    delete from DECLARACION
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="co.gov.dafp.sigep2.bean.Declaracion">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 29 16:41:23 COT 2018.
    -->
    insert into DECLARACION (COD_PERSONA, COD_TIPO_DECLARACION, 
      ANNO_DECLARACION, FECHA_INICIO, FECHA_FIN, 
      FECHA_PRESENTACION, FLG_EXTEMPORANEA, ENTIDAD_RECEPTORA, 
      CONFIRMACION, AUD_FECHA_ACTUALIZACION, 
      AUD_COD_USUARIO, AUD_COD_ROL, AUD_ACCION, 
      TAB_INDEX, FLG_TENGO_OTROS_INGRESOS, FLG_ACTIVIDAD_ECONOMICA_PRIVADA, 
      FLG_ACREENCIA_OBLIGACION, FLG_SIN_BIENES_PATRIMONIALES, 
      FLG_SIN_CUENTAS_AHORRO, FLG_SIN_PARIENTES_CONYUGUES, 
      FLG_SIN_PARTICIPACION_JUNTAS, FLG_MODIFICADO, 
      TOTAL_INGRESOS, FLG_TENGO_INGRESOS_LABORALES, COD_DECLARACION_ANT, TIPO_MODIFICACION
      )
    values (#{codPersona,jdbcType=NUMERIC}, #{codTipoDeclaracion,jdbcType=NUMERIC}, 
      #{annoDeclaracion,jdbcType=NUMERIC}, #{fechaInicio,jdbcType=TIMESTAMP}, #{fechaFin,jdbcType=TIMESTAMP}, 
      #{fechaPresentacion,jdbcType=TIMESTAMP}, #{flgExtemporanea,jdbcType=NUMERIC}, #{entidadReceptora,jdbcType=VARCHAR}, 
      #{confirmacion,jdbcType=NUMERIC}, #{audFechaActualizacion,jdbcType=TIMESTAMP}, 
      #{audCodUsuario,jdbcType=NUMERIC}, #{audCodRol,jdbcType=NUMERIC}, #{audAccion,jdbcType=NUMERIC}, 
      #{tabIndex,jdbcType=NUMERIC}, #{flgTengoOtrosIngresos,jdbcType=NUMERIC}, #{flgActividadEconomicaPrivada,jdbcType=NUMERIC}, 
      #{flgAcreenciaObligacion,jdbcType=NUMERIC}, #{flgSinBienesPatrimoniales,jdbcType=NUMERIC}, 
      #{flgSinCuentasAhorro,jdbcType=NUMERIC}, #{flgSinParientesConyugues,jdbcType=NUMERIC}, 
      #{flgSinParticipacionJuntas,jdbcType=NUMERIC}, #{flgModificado,jdbcType=NUMERIC}, 
      #{totalIngresos,jdbcType=NUMERIC}, #{flgTengoIngresosLaborales,jdbcType=NUMERIC},
      #{codDeclaracionAnt,jdbcType=NUMERIC}, #{tipoModificacion,jdbcType=NUMERIC}
      )
  </insert>
  <insert id="insertSelective" parameterType="co.gov.dafp.sigep2.bean.Declaracion">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 29 16:41:23 COT 2018.
    -->
    insert into DECLARACION
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="codDeclaracion != null">
        COD_DECLARACION,
      </if>
      <if test="codPersona != null">
        COD_PERSONA,
      </if>
      <if test="codTipoDeclaracion != null">
        COD_TIPO_DECLARACION,
      </if>
      <if test="annoDeclaracion != null">
        ANNO_DECLARACION,
      </if>
      <if test="fechaInicio != null">
        FECHA_INICIO,
      </if>
      <if test="fechaFin != null">
        FECHA_FIN,
      </if>
      <if test="fechaPresentacion != null">
        FECHA_PRESENTACION,
      </if>
      <if test="flgExtemporanea != null">
        FLG_EXTEMPORANEA,
      </if>
      <if test="entidadReceptora != null">
        ENTIDAD_RECEPTORA,
      </if>
      <if test="confirmacion != null">
        CONFIRMACION,
      </if>
      <if test="audFechaActualizacion != null">
        AUD_FECHA_ACTUALIZACION,
      </if>
      <if test="audCodUsuario != null">
        AUD_COD_USUARIO,
      </if>
      <if test="audCodRol != null">
        AUD_COD_ROL,
      </if>
      <if test="audAccion != null">
        AUD_ACCION,
      </if>
      <if test="tabIndex != null">
        TAB_INDEX,
      </if>
      <if test="flgTengoOtrosIngresos != null">
        FLG_TENGO_OTROS_INGRESOS,
      </if>
      <if test="flgActividadEconomicaPrivada != null">
        FLG_ACTIVIDAD_ECONOMICA_PRIVADA,
      </if>
      <if test="flgAcreenciaObligacion != null">
        FLG_ACREENCIA_OBLIGACION,
      </if>
      <if test="flgSinBienesPatrimoniales != null">
        FLG_SIN_BIENES_PATRIMONIALES,
      </if>
      <if test="flgSinCuentasAhorro != null">
        FLG_SIN_CUENTAS_AHORRO,
      </if>
      <if test="flgSinParientesConyugues != null">
        FLG_SIN_PARIENTES_CONYUGUES,
      </if>
      <if test="flgSinParticipacionJuntas != null">
        FLG_SIN_PARTICIPACION_JUNTAS,
      </if>
      <if test="flgModificado != null">
        FLG_MODIFICADO,
      </if>
      <if test="totalIngresos != null">
        TOTAL_INGRESOS,
      </if>
      <if test="flgTengoIngresosLaborales != null">
        FLG_TENGO_INGRESOS_LABORALES,
      </if>
      <if test="codDeclaracionAnt != null">
        COD_DECLARACION_ANT,
      </if>
      <if test="tipoModificacion != null">
        TIPO_MODIFICACION,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="codDeclaracion != null">
        #{codDeclaracion,jdbcType=NUMERIC},
      </if>
      <if test="codPersona != null">
        #{codPersona,jdbcType=NUMERIC},
      </if>
      <if test="codTipoDeclaracion != null">
        #{codTipoDeclaracion,jdbcType=NUMERIC},
      </if>
      <if test="annoDeclaracion != null">
        #{annoDeclaracion,jdbcType=NUMERIC},
      </if>
      <if test="fechaInicio != null">
        #{fechaInicio,jdbcType=TIMESTAMP},
      </if>
      <if test="fechaFin != null">
        #{fechaFin,jdbcType=TIMESTAMP},
      </if>
      <if test="fechaPresentacion != null">
        #{fechaPresentacion,jdbcType=TIMESTAMP},
      </if>
      <if test="flgExtemporanea != null">
        #{flgExtemporanea,jdbcType=NUMERIC},
      </if>
      <if test="entidadReceptora != null">
        #{entidadReceptora,jdbcType=VARCHAR},
      </if>
      <if test="confirmacion != null">
        #{confirmacion,jdbcType=NUMERIC},
      </if>
      <if test="audFechaActualizacion != null">
        #{audFechaActualizacion,jdbcType=TIMESTAMP},
      </if>
      <if test="audCodUsuario != null">
        #{audCodUsuario,jdbcType=NUMERIC},
      </if>
      <if test="audCodRol != null">
        #{audCodRol,jdbcType=NUMERIC},
      </if>
      <if test="audAccion != null">
        #{audAccion,jdbcType=NUMERIC},
      </if>
      <if test="tabIndex != null">
        #{tabIndex,jdbcType=NUMERIC},
      </if>
      <if test="flgTengoOtrosIngresos != null">
        #{flgTengoOtrosIngresos,jdbcType=NUMERIC},
      </if>
      <if test="flgActividadEconomicaPrivada != null">
        #{flgActividadEconomicaPrivada,jdbcType=NUMERIC},
      </if>
      <if test="flgAcreenciaObligacion != null">
        #{flgAcreenciaObligacion,jdbcType=NUMERIC},
      </if>
      <if test="flgSinBienesPatrimoniales != null">
        #{flgSinBienesPatrimoniales,jdbcType=NUMERIC},
      </if>
      <if test="flgSinCuentasAhorro != null">
        #{flgSinCuentasAhorro,jdbcType=NUMERIC},
      </if>
      <if test="flgSinParientesConyugues != null">
        #{flgSinParientesConyugues,jdbcType=NUMERIC},
      </if>
      <if test="flgSinParticipacionJuntas != null">
        #{flgSinParticipacionJuntas,jdbcType=NUMERIC},
      </if>
      <if test="flgModificado != null">
        #{flgModificado,jdbcType=NUMERIC},
      </if>
      <if test="totalIngresos != null">
        #{totalIngresos,jdbcType=NUMERIC},
      </if>
      <if test="flgTengoIngresosLaborales != null">
        #{flgTengoIngresosLaborales,jdbcType=NUMERIC},
      </if>
      <if test="codDeclaracionAnt != null">
        #{codDeclaracionAnt,jdbcType=NUMERIC},
      </if>
      <if test="tipoModificacion != null">
        #{tipoModificacion,jdbcType=NUMERIC},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="co.gov.dafp.sigep2.bean.DeclaracionExample" resultType="java.lang.Long">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 29 16:41:23 COT 2018.
    -->
    select count(*) from DECLARACION
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 29 16:41:23 COT 2018.
    -->
    update DECLARACION
    <set>
      <if test="record.codDeclaracion != null">
        COD_DECLARACION = #{record.codDeclaracion,jdbcType=NUMERIC},
      </if>
      <if test="record.codPersona != null">
        COD_PERSONA = #{record.codPersona,jdbcType=NUMERIC},
      </if>
      <if test="record.codTipoDeclaracion != null">
        COD_TIPO_DECLARACION = #{record.codTipoDeclaracion,jdbcType=NUMERIC},
      </if>
      <if test="record.annoDeclaracion != null">
        ANNO_DECLARACION = #{record.annoDeclaracion,jdbcType=NUMERIC},
      </if>
      <if test="record.fechaInicio != null">
        FECHA_INICIO = #{record.fechaInicio,jdbcType=TIMESTAMP},
      </if>
      <if test="record.fechaFin != null">
        FECHA_FIN = #{record.fechaFin,jdbcType=TIMESTAMP},
      </if>
      <if test="record.fechaPresentacion != null">
        FECHA_PRESENTACION = #{record.fechaPresentacion,jdbcType=TIMESTAMP},
      </if>
      <if test="record.flgExtemporanea != null">
        FLG_EXTEMPORANEA = #{record.flgExtemporanea,jdbcType=NUMERIC},
      </if>
      <if test="record.entidadReceptora != null">
        ENTIDAD_RECEPTORA = #{record.entidadReceptora,jdbcType=VARCHAR},
      </if>
      <if test="record.confirmacion != null">
        CONFIRMACION = #{record.confirmacion,jdbcType=NUMERIC},
      </if>
      <if test="record.audFechaActualizacion != null">
        AUD_FECHA_ACTUALIZACION = #{record.audFechaActualizacion,jdbcType=TIMESTAMP},
      </if>
      <if test="record.audCodUsuario != null">
        AUD_COD_USUARIO = #{record.audCodUsuario,jdbcType=NUMERIC},
      </if>
      <if test="record.audCodRol != null">
        AUD_COD_ROL = #{record.audCodRol,jdbcType=NUMERIC},
      </if>
      <if test="record.audAccion != null">
        AUD_ACCION = #{record.audAccion,jdbcType=NUMERIC},
      </if>
      <if test="record.tabIndex != null">
        TAB_INDEX = #{record.tabIndex,jdbcType=NUMERIC},
      </if>
      <if test="record.flgTengoOtrosIngresos != null">
        FLG_TENGO_OTROS_INGRESOS = #{record.flgTengoOtrosIngresos,jdbcType=NUMERIC},
      </if>
      <if test="record.flgActividadEconomicaPrivada != null">
        FLG_ACTIVIDAD_ECONOMICA_PRIVADA = #{record.flgActividadEconomicaPrivada,jdbcType=NUMERIC},
      </if>
      <if test="record.flgAcreenciaObligacion != null">
        FLG_ACREENCIA_OBLIGACION = #{record.flgAcreenciaObligacion,jdbcType=NUMERIC},
      </if>
      <if test="record.flgSinBienesPatrimoniales != null">
        FLG_SIN_BIENES_PATRIMONIALES = #{record.flgSinBienesPatrimoniales,jdbcType=NUMERIC},
      </if>
      <if test="record.flgSinCuentasAhorro != null">
        FLG_SIN_CUENTAS_AHORRO = #{record.flgSinCuentasAhorro,jdbcType=NUMERIC},
      </if>
      <if test="record.flgSinParientesConyugues != null">
        FLG_SIN_PARIENTES_CONYUGUES = #{record.flgSinParientesConyugues,jdbcType=NUMERIC},
      </if>
      <if test="record.flgSinParticipacionJuntas != null">
        FLG_SIN_PARTICIPACION_JUNTAS = #{record.flgSinParticipacionJuntas,jdbcType=NUMERIC},
      </if>
      <if test="record.flgModificado != null">
        FLG_MODIFICADO = #{record.flgModificado,jdbcType=NUMERIC},
      </if>
      <if test="record.totalIngresos != null">
        TOTAL_INGRESOS = #{record.totalIngresos,jdbcType=NUMERIC},
      </if>
      <if test="record.flgTengoIngresosLaborales != null">
        FLG_TENGO_INGRESOS_LABORALES = #{record.flgTengoIngresosLaborales,jdbcType=NUMERIC},
      </if>
      <if test="record.codDeclaracionAnt != null">
        COD_DECLARACION_ANT = #{record.codDeclaracionAnt,jdbcType=NUMERIC},
      </if>
      <if test="record.tipoModificacion != null">
        TIPO_MODIFICACION = #{record.tipoModificacion,jdbcType=NUMERIC},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 29 16:41:23 COT 2018.
    -->
    update DECLARACION
    set COD_DECLARACION = #{record.codDeclaracion,jdbcType=NUMERIC},
      COD_PERSONA = #{record.codPersona,jdbcType=NUMERIC},
      COD_TIPO_DECLARACION = #{record.codTipoDeclaracion,jdbcType=NUMERIC},
      ANNO_DECLARACION = #{record.annoDeclaracion,jdbcType=NUMERIC},
      FECHA_INICIO = #{record.fechaInicio,jdbcType=TIMESTAMP},
      FECHA_FIN = #{record.fechaFin,jdbcType=TIMESTAMP},
      FECHA_PRESENTACION = #{record.fechaPresentacion,jdbcType=TIMESTAMP},
      FLG_EXTEMPORANEA = #{record.flgExtemporanea,jdbcType=NUMERIC},
      ENTIDAD_RECEPTORA = #{record.entidadReceptora,jdbcType=VARCHAR},
      CONFIRMACION = #{record.confirmacion,jdbcType=NUMERIC},
      AUD_FECHA_ACTUALIZACION = #{record.audFechaActualizacion,jdbcType=TIMESTAMP},
      AUD_COD_USUARIO = #{record.audCodUsuario,jdbcType=NUMERIC},
      AUD_COD_ROL = #{record.audCodRol,jdbcType=NUMERIC},
      AUD_ACCION = #{record.audAccion,jdbcType=NUMERIC},
      TAB_INDEX = #{record.tabIndex,jdbcType=NUMERIC},
      FLG_TENGO_OTROS_INGRESOS = #{record.flgTengoOtrosIngresos,jdbcType=NUMERIC},
      FLG_ACTIVIDAD_ECONOMICA_PRIVADA = #{record.flgActividadEconomicaPrivada,jdbcType=NUMERIC},
      FLG_ACREENCIA_OBLIGACION = #{record.flgAcreenciaObligacion,jdbcType=NUMERIC},
      FLG_SIN_BIENES_PATRIMONIALES = #{record.flgSinBienesPatrimoniales,jdbcType=NUMERIC},
      FLG_SIN_CUENTAS_AHORRO = #{record.flgSinCuentasAhorro,jdbcType=NUMERIC},
      FLG_SIN_PARIENTES_CONYUGUES = #{record.flgSinParientesConyugues,jdbcType=NUMERIC},
      FLG_SIN_PARTICIPACION_JUNTAS = #{record.flgSinParticipacionJuntas,jdbcType=NUMERIC},
      FLG_MODIFICADO = #{record.flgModificado,jdbcType=NUMERIC},
      TOTAL_INGRESOS = #{record.totalIngresos,jdbcType=NUMERIC},
      FLG_TENGO_INGRESOS_LABORALES = #{record.flgTengoIngresosLaborales,jdbcType=NUMERIC},
      COD_DECLARACION_ANT = #{record.codDeclaracionAnt,jdbcType=NUMERIC},
      TIPO_MODIFICACION = #{record.tipoModificacion,jdbcType=NUMERIC}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="co.gov.dafp.sigep2.bean.Declaracion">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 29 16:41:23 COT 2018.
    -->
    update DECLARACION
    <set>
      <if test="codPersona != null">
        COD_PERSONA = #{codPersona,jdbcType=NUMERIC},
      </if>
      <if test="codTipoDeclaracion != null">
        COD_TIPO_DECLARACION = #{codTipoDeclaracion,jdbcType=NUMERIC},
      </if>
      <if test="annoDeclaracion != null">
        ANNO_DECLARACION = #{annoDeclaracion,jdbcType=NUMERIC},
      </if>
      <if test="fechaInicio != null">
        FECHA_INICIO = #{fechaInicio,jdbcType=TIMESTAMP},
      </if>
      <if test="fechaFin != null">
        FECHA_FIN = #{fechaFin,jdbcType=TIMESTAMP},
      </if>
      <if test="fechaPresentacion != null">
        FECHA_PRESENTACION = #{fechaPresentacion,jdbcType=TIMESTAMP},
      </if>
      <if test="flgExtemporanea != null">
        FLG_EXTEMPORANEA = #{flgExtemporanea,jdbcType=NUMERIC},
      </if>
      <if test="entidadReceptora != null">
        ENTIDAD_RECEPTORA = #{entidadReceptora,jdbcType=VARCHAR},
      </if>
      <if test="confirmacion != null">
        CONFIRMACION = #{confirmacion,jdbcType=NUMERIC},
      </if>
      <if test="audFechaActualizacion != null">
        AUD_FECHA_ACTUALIZACION = #{audFechaActualizacion,jdbcType=TIMESTAMP},
      </if>
      <if test="audCodUsuario != null">
        AUD_COD_USUARIO = #{audCodUsuario,jdbcType=NUMERIC},
      </if>
      <if test="audCodRol != null">
        AUD_COD_ROL = #{audCodRol,jdbcType=NUMERIC},
      </if>
      <if test="audAccion != null">
        AUD_ACCION = #{audAccion,jdbcType=NUMERIC},
      </if>
      <if test="tabIndex != null">
        TAB_INDEX = #{tabIndex,jdbcType=NUMERIC},
      </if>
      <if test="flgTengoOtrosIngresos != null">
        FLG_TENGO_OTROS_INGRESOS = #{flgTengoOtrosIngresos,jdbcType=NUMERIC},
      </if>
      <if test="flgActividadEconomicaPrivada != null">
        FLG_ACTIVIDAD_ECONOMICA_PRIVADA = #{flgActividadEconomicaPrivada,jdbcType=NUMERIC},
      </if>
      <if test="flgAcreenciaObligacion != null">
        FLG_ACREENCIA_OBLIGACION = #{flgAcreenciaObligacion,jdbcType=NUMERIC},
      </if>
      <if test="flgSinBienesPatrimoniales != null">
        FLG_SIN_BIENES_PATRIMONIALES = #{flgSinBienesPatrimoniales,jdbcType=NUMERIC},
      </if>
      <if test="flgSinCuentasAhorro != null">
        FLG_SIN_CUENTAS_AHORRO = #{flgSinCuentasAhorro,jdbcType=NUMERIC},
      </if>
      <if test="flgSinParientesConyugues != null">
        FLG_SIN_PARIENTES_CONYUGUES = #{flgSinParientesConyugues,jdbcType=NUMERIC},
      </if>
      <if test="flgSinParticipacionJuntas != null">
        FLG_SIN_PARTICIPACION_JUNTAS = #{flgSinParticipacionJuntas,jdbcType=NUMERIC},
      </if>
      <if test="flgModificado != null">
        FLG_MODIFICADO = #{flgModificado,jdbcType=NUMERIC},
      </if>
      <if test="totalIngresos != null">
        TOTAL_INGRESOS = #{totalIngresos,jdbcType=NUMERIC},
      </if>
      <if test="flgTengoIngresosLaborales != null">
        FLG_TENGO_INGRESOS_LABORALES = #{flgTengoIngresosLaborales,jdbcType=NUMERIC},
      </if>
      <if test="codDeclaracionAnt != null">
        COD_DECLARACION_ANT = #{codDeclaracionAnt,jdbcType=NUMERIC},
      </if>
      <if test="tipoModificacion != null">
        TIPO_MODIFICACION = #{tipoModificacion,jdbcType=NUMERIC},
      </if>
    </set>
    where COD_DECLARACION = #{codDeclaracion,jdbcType=NUMERIC}
  </update>
  <update id="updateByPrimaryKey" parameterType="co.gov.dafp.sigep2.bean.Declaracion">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 29 16:41:23 COT 2018.
    -->
    update DECLARACION
    set COD_PERSONA = #{codPersona,jdbcType=NUMERIC},
      COD_TIPO_DECLARACION = #{codTipoDeclaracion,jdbcType=NUMERIC},
      ANNO_DECLARACION = #{annoDeclaracion,jdbcType=NUMERIC},
      FECHA_INICIO = #{fechaInicio,jdbcType=TIMESTAMP},
      FECHA_FIN = #{fechaFin,jdbcType=TIMESTAMP},
      FECHA_PRESENTACION = #{fechaPresentacion,jdbcType=TIMESTAMP},
      FLG_EXTEMPORANEA = #{flgExtemporanea,jdbcType=NUMERIC},
      ENTIDAD_RECEPTORA = #{entidadReceptora,jdbcType=VARCHAR},
      CONFIRMACION = #{confirmacion,jdbcType=NUMERIC},
      AUD_FECHA_ACTUALIZACION = #{audFechaActualizacion,jdbcType=TIMESTAMP},
      AUD_COD_USUARIO = #{audCodUsuario,jdbcType=NUMERIC},
      AUD_COD_ROL = #{audCodRol,jdbcType=NUMERIC},
      AUD_ACCION = #{audAccion,jdbcType=NUMERIC},
      TAB_INDEX = #{tabIndex,jdbcType=NUMERIC},
      FLG_TENGO_OTROS_INGRESOS = #{flgTengoOtrosIngresos,jdbcType=NUMERIC},
      FLG_ACTIVIDAD_ECONOMICA_PRIVADA = #{flgActividadEconomicaPrivada,jdbcType=NUMERIC},
      FLG_ACREENCIA_OBLIGACION = #{flgAcreenciaObligacion,jdbcType=NUMERIC},
      FLG_SIN_BIENES_PATRIMONIALES = #{flgSinBienesPatrimoniales,jdbcType=NUMERIC},
      FLG_SIN_CUENTAS_AHORRO = #{flgSinCuentasAhorro,jdbcType=NUMERIC},
      FLG_SIN_PARIENTES_CONYUGUES = #{flgSinParientesConyugues,jdbcType=NUMERIC},
      FLG_SIN_PARTICIPACION_JUNTAS = #{flgSinParticipacionJuntas,jdbcType=NUMERIC},
      FLG_MODIFICADO = #{flgModificado,jdbcType=NUMERIC},
      TOTAL_INGRESOS = #{totalIngresos,jdbcType=NUMERIC},
      FLG_TENGO_INGRESOS_LABORALES = #{flgTengoIngresosLaborales,jdbcType=NUMERIC},
      COD_DECLARACION_ANT = #{codDeclaracionAnt,jdbcType=NUMERIC},
      TIPO_MODIFICACION = #{tipoModificacion,jdbcType=NUMERIC}
    where COD_DECLARACION = #{codDeclaracion,jdbcType=NUMERIC}
  </update>
  <select id="selectIdDeclaracion" parameterType="co.gov.dafp.sigep2.bean.Declaracion" resultMap="BaseResultMap">
    select COD_DECLARACION
    from DECLARACION
    where COD_PERSONA = #{codPersona,jdbcType=NUMERIC}
        AND COD_TIPO_DECLARACION = #{codTipoDeclaracion,jdbcType=NUMERIC} 
        AND ANNO_DECLARACION = #{annoDeclaracion,jdbcType=NUMERIC}
        order by AUD_FECHA_ACTUALIZACION DESC
 		OFFSET 0 ROWS FETCH NEXT 1 ROWS ONLY
  </select>
</mapper>