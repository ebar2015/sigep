package co.gov.dafp.sigep2.entity.jpa.seguridad;
// Generated 24/11/2017 03:31:14 PM by Hibernate Tools 4.3.1.Final

import java.io.Serializable;
import java.util.Date;
import java.util.List;

import javax.persistence.*;

import co.gov.dafp.sigep2.converter.BooleanToNumberConverter;
import co.gov.dafp.sigep2.converter.EncryptCaseConverter;
import co.gov.dafp.sigep2.converter.UpperCaseConverter;
import co.gov.dafp.sigep2.entity.EntidadBase;
import co.gov.dafp.sigep2.entity.EntidadBaseDTO;
import co.gov.dafp.sigep2.entity.seguridad.UsuarioDTO;

/**
 * Usuario generated by hbm2java
 */
@Entity(name = "Usuario")
@Table(name = "USUARIO")
@SqlResultSetMappings({ @SqlResultSetMapping(name = Usuario.USUARIO_MAPPING, classes = {
		@ConstructorResult(targetClass = UsuarioDTO.class, columns = {
				@ColumnResult(name = "COD_USUARIO", type = Long.class),
				@ColumnResult(name = "COD_PERSONA", type = Long.class),
				@ColumnResult(name = "NOMBRE_USUARIO", type = String.class),
				@ColumnResult(name = "NOMBRE_PERSONA", type = String.class),
				@ColumnResult(name = "CONTRASENA", type = String.class),
				@ColumnResult(name = "NUMERO_REINTENTOS", type = Long.class),
				@ColumnResult(name = "NUMERO_SESIONES_ACTIVAS", type = Long.class),
				@ColumnResult(name = "FLG_BLOQUEADO", type = Boolean.class),
				@ColumnResult(name = "FLG_ACEPTO_HABEAS_DATA", type = Boolean.class),
				@ColumnResult(name = "FECHA_ACEPTO_HABEAS", type = Date.class),
				@ColumnResult(name = "CORREO_ELECTRONICO", type = String.class),
				@ColumnResult(name = "FECHA_VENCE", type = Date.class),
				@ColumnResult(name = "FECHA_ULTIMO_INGRESO", type = Date.class),
				@ColumnResult(name = "IP_AUTORIZADA", type = String.class),
				@ColumnResult(name = "MAC_AUTORIZADA", type = String.class),
				@ColumnResult(name = "TICKET", type = String.class),
				@ColumnResult(name = "FLG_ES_INTERNO", type = Boolean.class),
				@ColumnResult(name = "FLG_ESTADO", type = Boolean.class) }) }) })
@NamedStoredProcedureQueries({
		@NamedStoredProcedureQuery(name = Usuario.USP_BLOQUEA_USUARIO_MASIVO, procedureName = Usuario.USP_BLOQUEA_USUARIO_MASIVO) })
public class Usuario extends EntidadBase implements Serializable {
	private static final long serialVersionUID = -5868871950558581959L;

	public static final String USUARIO_MAPPING = "co.gov.dafp.sigep2.entity.jpa.seguridad.mapping.Usuario";

	public static final String USP_BLOQUEA_USUARIO_MASIVO = "USP_BLOQUEA_USUARIO_MASIVO";

	@Id
	@GeneratedValue(strategy = GenerationType.IDENTITY)
	@Column(name = "COD_USUARIO", unique = true, nullable = false, precision = 22, scale = 0, insertable = false, updatable = false)
	private long codUsuario;

	@OneToOne(fetch = FetchType.LAZY)
	@JoinColumn(name = "COD_PERSONA")
	private Persona persona;

	@Column(name = "NOMBRE_USUARIO", nullable = false, length = 70)
	@Convert(converter = UpperCaseConverter.class)
	private String nombreUsuario;

	@Column(nullable = false, length = 128, updatable = false)
	@Convert(converter = EncryptCaseConverter.class)
	private String contrasena;

	@Column(name = "NUMERO_REINTENTOS", nullable = false, precision = 22, scale = 0)
	private Long numeroReintentos = 0L;

	@Column(name = "NUMERO_SESIONES_ACTIVAS", nullable = false, precision = 22, scale = 0)
	private Long numeroSesionesActivas = 0L;

	@Column(name = "FLG_BLOQUEADO", nullable = false, precision = 1, scale = 0)
	@Convert(converter = BooleanToNumberConverter.class)
	private boolean flgBloqueado = false;

	@Column(name = "FLG_ACEPTO_HABEAS_DATA", nullable = false, precision = 1, scale = 0)
	@Convert(converter = BooleanToNumberConverter.class)
	private boolean flgAceptoHabeasData = false;

	@Temporal(TemporalType.TIMESTAMP)
	@Column(name = "FECHA_ACEPTO_HABEAS", length = 7)
	private Date fechaAceptoHabeas;

	@Temporal(TemporalType.DATE)
	@Column(name = "FECHA_VENCE", length = 7)
	private Date fechaVence;

	@Temporal(TemporalType.TIMESTAMP)
	@Column(name = "FECHA_ULTIMO_INGRESO", length = 7)
	private Date fechaUltimoIngreso;

	@Column(name = "IP_AUTORIZADA", length = 50)
	private String ipAutorizada;

	@Column(name = "MAC_AUTORIZADA")
	private String macAutorizada;

	@Column(name = "TICKET", length = 50)
	private String ticket;

	@Column(name = "FLG_ES_INTERNO", precision = 1, scale = 0)
	@Convert(converter = BooleanToNumberConverter.class)
	private Boolean flgEsInterno = false;

	@Column(name = "FLG_ESTADO", precision = 1, scale = 0)
	@Convert(converter = BooleanToNumberConverter.class)
	private Boolean flgEstado = true;

	@OneToMany(fetch = FetchType.LAZY, mappedBy = "usuario")
	private List<UsuarioEntidad> usuarioEntidads;

	@Temporal(TemporalType.TIMESTAMP)
	@Column(name = "AUD_FECHA_ACTUALIZACION", length = 7)
	protected Date audFechaActualizacion;

	@Column(name = "AUD_COD_USUARIO", nullable = false, precision = 22, scale = 0)
	protected Long audCodUsuario;

	@Column(name = "AUD_COD_ROL", nullable = false, precision = 22, scale = 0)
	protected Long audCodRol;

	@Column(name = "AUD_ACCION", nullable = false, precision = 22, scale = 0)
	protected Long audAccion;
	
	@Transient
	private long codRol;

	public Usuario() {
		super();
	}

	public Long getId() {
		return this.codUsuario;
	}

	public void setId(Long id) {
		this.codUsuario = id;
	}

	public String getNombreUsuario() {
		return this.nombreUsuario;
	}

	public void setNombreUsuario(String nombreUsuario) {
		this.nombreUsuario = nombreUsuario;
	}

	public String getContrasena() {
		return this.contrasena;
	}

	public void setContrasena(String contrasena) {
		this.contrasena = contrasena;
	}

	public Long getNumeroReintentos() {
		return this.numeroReintentos;
	}

	public void setNumeroReintentos(Long numeroReintentos) {
		this.numeroReintentos = numeroReintentos;
	}

	public Long getNumeroSesionesActivas() {
		return this.numeroSesionesActivas;
	}

	public void setNumeroSesionesActivas(Long numeroSesionesActivas) {
		this.numeroSesionesActivas = numeroSesionesActivas;
	}

	public boolean isFlgBloqueado() {
		return this.flgBloqueado;
	}

	public void setFlgBloqueado(boolean flgBloqueado) {
		this.flgBloqueado = flgBloqueado;
	}

	public boolean isFlgAceptoHabeasData() {
		return this.flgAceptoHabeasData;
	}

	public void setFlgAceptoHabeasData(boolean flgAceptoHabeasData) {
		this.flgAceptoHabeasData = flgAceptoHabeasData;
	}

	public Date getFechaAceptoHabeas() {
		return this.fechaAceptoHabeas;
	}

	public void setFechaAceptoHabeas(Date fechaAceptoHabeas) {
		this.fechaAceptoHabeas = fechaAceptoHabeas;
	}

	public Date getFechaVence() {
		return this.fechaVence;
	}

	public void setFechaVence(Date fechaVence) {
		this.fechaVence = fechaVence;
	}

	public Date getFechaUltimoIngreso() {
		return this.fechaUltimoIngreso;
	}

	public void setFechaUltimoIngreso(Date fechaUltimoIngreso) {
		this.fechaUltimoIngreso = fechaUltimoIngreso;
	}

	public String getIpAutorizada() {
		return this.ipAutorizada;
	}

	public void setIpAutorizada(String ipAutorizada) {
		this.ipAutorizada = ipAutorizada;
	}

	public String getMacAutorizada() {
		return this.macAutorizada;
	}

	public void setMacAutorizada(String macAutorizada) {
		this.macAutorizada = macAutorizada;
	}

	public String getTicket() {
		return this.ticket;
	}

	public void setTicket(String ticket) {
		this.ticket = ticket;
	}

	public Boolean getFlgEsInterno() {
		return this.flgEsInterno;
	}

	public void setFlgEsInterno(Boolean flgEsInterno) {
		this.flgEsInterno = flgEsInterno;
	}

	public Boolean getFlgEstado() {
		return this.flgEstado;
	}

	public void setFlgEstado(Boolean flgEstado) {
		this.flgEstado = flgEstado;
	}

	public List<UsuarioEntidad> getUsuarioEntidads() {
		return this.usuarioEntidads;
	}

	public void setUsuarioEntidads(List<UsuarioEntidad> usuarioEntidads) {
		this.usuarioEntidads = usuarioEntidads;
	}

	public Persona getPersona() {
		return this.persona;
	}

	public void setPersona(Persona persona) {
		this.persona = persona;
	}

	public Date getAudFechaActualizacion() {
		return audFechaActualizacion;
	}

	public void setAudFechaActualizacion(Date audFechaActualizacion) {
		this.audFechaActualizacion = audFechaActualizacion;
	}

	public Long getAudCodUsuario() {
		return audCodUsuario;
	}

	public void setAudCodUsuario(Long audCodUsuario) {
		this.audCodUsuario = audCodUsuario;
	}

	public Long getAudCodRol() {
		return audCodRol;
	}

	public void setAudCodRol(Long audCodRol) {
		this.audCodRol = audCodRol;
	}

	public Long getAudAccion() {
		return audAccion;
	}

	public void setAudAccion(Long audAccion) {
		this.audAccion = audAccion;
	}

	public long getCodRol() {
		return codRol;
	}

	public void setCodRol(long codRol) {
		this.codRol = codRol;
	}

	@Override
	public String toString() {
		return "Usuario [id=" + this.getId() + "]";
	}

	@Override
	public EntidadBaseDTO getDTO() {
		return new UsuarioDTO(this.getId(), this.persona.getCodPersona(), this.nombreUsuario,
				this.persona.getPrimerNombre() + " " + this.persona.getSegundoNombre() + " "
						+ persona.getPrimerApellido() + " " + persona.getSegundoApellido(),
				this.contrasena, this.numeroReintentos, this.numeroSesionesActivas, this.flgBloqueado,
				this.flgAceptoHabeasData, fechaAceptoHabeas, null, fechaVence, fechaUltimoIngreso, this.ipAutorizada,
				this.macAutorizada, this.ticket, this.flgEsInterno, this.flgEstado);
	}

}
