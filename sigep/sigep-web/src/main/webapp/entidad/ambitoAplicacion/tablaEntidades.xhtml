<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
  
  
 
    <div class="row row-background-white">
    <br /> <br />
    <div class="col-md-12">
			<hr class="hr-style hr-style-two" />
				<span class="span-style">
					${titles.LBL_TABLA_ENTIDADES} 
				</span> <br /> <br />
	</div>

        <div class="col-md-12">
                <p:dataTable id="dtEntidadesAmbito"
                             widgetVar="wvDtEntidadesAmbito"
                             value="#{ambitoAplicacionPoliticasBean.entidadesDisponibles}"
                             var="entAmb"
                             rows="#{paginatorSize}"
							 rowsPerPageTemplate="#{paginatorsSize}"
                             currentPageReportTemplate="{currentPage} ${titles['LBL_DE']} {totalPages}"
							 paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
                             rowKey="#{entAmb.codEntidad}"
                             selection="#{ambitoAplicacionPoliticasBean.entidadesSeleccionadas}"
                             paginator="true">                    
                    <p:column headerText="${titles.TTL_ENTIDAD_USUARIO}" selectionMode="multiple"
                              style="width: 18px; text-align: center"/>
                    <p:column headerText="#{titles.TTL_COD_SIGEP}"
                    		  sortBy="#{entAmb.codigoSigep}">
                        <h:outputText value="#{entAmb.codigoSigep}" />
                    </p:column>

                    <p:column headerText="${titles.TTL_DENOMINACION}"
                    		  sortBy="#{entAmb.nombreEntidad}">
                        <h:outputText value="#{entAmb.nombreEntidad}" />
                    </p:column>

                    <p:column headerText="${titles.TTL_TIPO_ENTIDAD}"
                    		  sortBy="#{entAmb.codTipoEntidad}">
                        <h:outputText value="#{entAmb.codTipoEntidad}" 
                                      converter="parametricaBgDecimalConverter"/>
                    </p:column>
                    <p:column headerText="${titles.TTL_ESTADO}"
                    		  sortBy="#{entAmb.codEstadoEntidad}">
                        <h:outputText value="#{entAmb.codEstadoEntidad}" 
                                      converter="parametricaBgDecimalConverter"/>    
	                </p:column>
		
					<p:column headerText="${titles.LBL_TABLA_ACCION}"  style ="text-align: center;">
						<p:outputPanel id="panelAccionVer">
								<p:commandButton title="${titles.BTN_TABLA_VER}" icon="icon-view" styleClass="icon-btn"
									process="@this"
									update="@widgetVar(verDetalleEntidad)"
									actionListener="#{ambitoAplicacionPoliticasBean.consultarPoliticasEntidad(entAmb)}">
								</p:commandButton>
						</p:outputPanel>
					</p:column>
				</p:dataTable>
                <br />
        </div>
  
    </div>
</html>
