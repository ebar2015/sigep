<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">
	
	<p:outputPanel id="panelEscalaSalarial">
		<p:panel id="subPanelEscalaSalarial" rendered="#{gestionarNomenclaturaEscalaBean.blnAccionIncrementoSalarial}">
			<div class="row">
				<div class="col-md-12" align="center">
					<h4 style="margin: 0px;"> <hr class="hr-style" />
						<p:outputLabel value="•  ${titles['LBL_ENTIDAD_NOMENCLATURA_OPCIONES_INCREMENTO']} • " styleClass="page-subtitle" style="color: #263948!important;" />
					</h4>
				</div>
			</div>
			<br /> <br />
			<div class="row">
				<div class="col-md-12" align="center">
					<p:outputLabel value="#{titles.TTL_INCREMENTO_SALARIAL_INFO}" styleClass="advisor" />
				</div>
			</div>
			<hr style="display: block; margin-top: 0.5em; margin-bottom: 0.5em; border: 0.5px solid #CCCCCC; width: 98%;" />
			<br />
			<div class="row">
				<div class="col-md-12">
					<div class="col-md-4">
						<p:outputLabel value="${titles['TTL_NOMENCLATURA_TIPO_NORMA']}:"
							for="txtTipoNormaEscala" styleClass="log-label form-label-formularios" />
						<h:selectOneMenu id="txtTipoNormaEscala" styleClass="form-control-form-act-usua"
							value="#{gestionarNomenclaturaEscalaBean.normaEscalaSalarial.codTipoNorma}">
							<f:selectItem itemLabel="#{titles.TTL_SELECT}" itemValue="#{null}" />
							<f:selectItems value="#{webUtils.tiposNormaEntidad}" />
							<p:ajax event="change" process="@this" />
						</h:selectOneMenu>
						<p:message for="txtTipoNormaEscala" display="text" />
					</div>
					<div class="col-md-4">
						<p:outputLabel value="${titles['LBL_FECHA_NORMA']}:"
							for="txtFechaNormaEscala" styleClass="log-label form-label-formularios" />
						<p:calendar id="txtFechaNormaEscala"
							title="${titles['TTL_INGRESE']} ${titles['LBL_FECHA_NORMA']}"
							navigator="true"
							validatorMessage="#{messages.DLG_FORMATO_INVALIDO}"
							yearRange="#{rangoAnios}" mode="popup"
							placeholder="${titles['LBL_FORMATO_FECHA']}"
							requiredMessage="${messages['DLG_VALOR_REQUERIDO']}"
							value="#{gestionarNomenclaturaEscalaBean.normaEscalaSalarial.fechaNorma}"
							converterMessage="#{messages.DLG_FORMATO_INVALIDO}"
							locale="#{lenguajeBean.localeCode}" mask="true"
							pattern="#{fechaFormato}">
							<p:ajax event="dateSelect"></p:ajax>
						</p:calendar>
					</div>
					<div class="col-md-4">
						<p:outputLabel value="${titles['TTL_NUMERO_NORMA']}:"
							for="txtNumeroNormaEscala"
							styleClass="log-label form-label-formularios" />
						<p:autoComplete id="txtNumeroNormaEscala"
							value="#{gestionarNomenclaturaEscalaBean.normaEscalaSalarialSeleccionada}"
							converter="normaBdConverter" var="normSelect"
							itemLabel="#{normSelect.numeroNorma}" itemValue="#{normSelect}"
							completeMethod="#{gestionarNomenclaturaEscalaBean.completeMethodNormaEscalaSalarial}"
							valueChangeListener="#{gestionarNomenclaturaEscalaBean.vclNormaEscalaSalarial}"
							minQueryLength="1" maxResults="20">
						</p:autoComplete>
					</div>
				</div>
				<div class="col-md-12">
					<div class="col-md-4">
						<p:outputLabel value="${titles['LBL_CT_JUSTIFICACION']}:"
							for="txtJustificacionNormaEscala"
							styleClass="log-label form-label-formularios" />
						<p:inputText id="txtJustificacionNormaEscala"
							title="${titles['TTL_INGRESE']} ${titles['LBL_CT_JUSTIFICACION']}"
							value="#{gestionarNomenclaturaEscalaBean.txtJustificacion}"
							maxlength="255">
							<f:validator validatorId="maxByteLengthValidator" />
						</p:inputText>
					</div>
					
					<div class="col-md-4">
						<p:outputLabel
							value="${titles['LBL_ENTIDAD_NOMENCLATURA_OPCIONES_INCREMENTO']}:"
							title="${titles['TTL_SELECT']} ${titles['LBL_ENTIDAD_NOMENCLATURA_OPCIONES_INCREMENTO']}"
							styleClass="log-label form-label-formularios" />
						<p:selectOneRadio id="oneRadioIncremento" value="#{gestionarNomenclaturaEscalaBean.strOpcionIncremento}">
							<f:selectItem itemLabel="%" itemValue="0" />
							<f:selectItem itemLabel="Valor" itemValue="1" />
							<p:ajax event="change" actionListener="#{gestionarNomenclaturaEscalaBean.handleOpcionIncrementoSelection}" />
						</p:selectOneRadio>
					</div>
					
					<div class="col-md-4">
						<p:outputLabel
							value="${titles['LBL_ENTIDAD_NOMENCLATURA_VALOR_INCREMENTO']}:"
							styleClass="log-label form-label-formularios"
							for="txtValorEscalaSalarial" />
						<p:inputNumber id="txtValorEscalaSalarial" decimalSeparator=","
							thousandSeparator="." decimalPlaces="2"
							title="${titles['TTL_INGRESE']} ${titles['LBL_ENTIDAD_NOMENCLATURA_VALOR_INCREMENTO']}  ${titles['TTL_TIPO_NUMERICO']}"
							requiredMessage="${messages['DLG_VALOR_REQUERIDO']}"
							validatorMessage="${messages['DLG_VALIDATOR_MESSAGE_POSTIVOS_15_1']}"
							value="#{gestionarNomenclaturaEscalaBean.lbgValorIncremento}"
							converter="javax.faces.BigDecimal"
							converterMessage="${messages['DLG_VALIDATOR_MESSAGE_ENTEROS']}">
							<p:keyFilter mask="num"></p:keyFilter>
							<f:validateDoubleRange minimum="0" maximum="999999999999999" />
						</p:inputNumber>
						<p:message for="txtValorEscalaSalarial" display="text" />
					</div>
					
				</div>
			</div>
			<br /><br />
			<div class="row" >
				<div class="col-md-12">
				<div class="col-md-5"></div>
					<div class="col-md-4">
						<p:commandButton id="btnAplicarIncremento"
							value="#{titles.TTL_ENTIDADES_NOMENCLATURA_OTRAS_ASIGNACIONES_CALCULAR}" styleClass="btn btn-primary"
							actionListener="#{gestionarNomenclaturaEscalaBean.validarAccionIncrementarEscala()}"
							process="panelEscalaSalarial  @this"
							update="formCrearNomenclatura:dtDenominacionesNomenclatura">
						</p:commandButton>
					</div>
				<div class="col-md-3"></div>
				</div>
			</div>
		</p:panel>
	</p:outputPanel>
	<br /><br />
</ui:composition>