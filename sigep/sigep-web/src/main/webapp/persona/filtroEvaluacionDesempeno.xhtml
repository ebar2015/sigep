<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	template="/resources/template/pageTemplate.xhtml">

	<f:metadata>
		<f:viewParam name="id" value='#{evaluacion.id}' />
		<!-- <f:event type="preRenderView"
			listener='#{evaluacion.obtenerUsuariosFiltro()}' />-->
			<f:viewParam name="recursoId" value="#{evaluacion.recursoId}" />
		<f:viewParam name="dialog" value="#{evaluacion.dialog}" />
		<f:event type="preRenderView" listener="#{evaluacion.retrieve}" />
	</f:metadata>
	<ui:param name="pageTitle" value="${titles['TTL_DATOS_PERSONALES']}" />
	<ui:param name="pageSubtitle" value="${titles['TTL_DATOS_PERSONALES']}" />


	<ui:define name="main">
			<div class="row">
				<div class="col-md-12 text-center">
					<h3>
						<h:outputText value="${titles[TTL_EVALUACION_DESEMPENO]}" styleClass="page-subtitle log-label form-label"/>	
						<br /><br />
					</h3>
				</div>
			</div>
			<div class="row">
				<div class="col-md-12 text-center">
						<p:messages id="mensajes" showDetail="true" closable="true" style="background-color:#faf7f7!important;">  
    					</p:messages>
    					<br />
    					<br />
				</div>
				<div class="col-md-4 text-left">
					<p:outputLabel value="${titles['TTL_TIPO_DOCUMENTO']}"
							for="tipoDocumento" styleClass="log-label form-label" />
				</div>
				<div class="col-md-8 text-center">
						<h:selectOneMenu id="tipoDocumento"
							title="#{titles.TTL_SELECT} #{titles.TTL_TIPO_DOCUMENTO}"
							converter="tipoDocumentoConverter"
							value="#{evaluacion.filtro.tipoIdentificacionId}"
							var="t" filter="true" filterMatchMode="contains"
							requiredMessage="${messages['DLG_VALOR_REQUERIDO']}"
							styleClass="form-control-form-act-usua">
							<f:selectItem itemLabel="#{titles['TTL_SELECT']}"
								itemValue="#{null}" />
							<f:selectItems value="#{tiposDocumentoEntidad}" var="tipoDoc"
								itemLabel="#{tipoDoc.descripcion}" itemValue="#{tipoDoc}" />
						</h:selectOneMenu>
						<p:message for="tipoDocumento" display="text" />
				</div>
				<div class="col-md-4 text-left">
					<h:outputText id="lblDocumento" value="${titles['TTL_NUM_DOCUMENTO']}" styleClass="log-label form-label" />
				</div>
				<div class="col-md-8 text-center">
					<h:inputText id="Documento" styleClass="form-control-acti-usua"
						title="#{titles.TTL_INGRESAR} #{titles.TTL_NUM_DOCUMENTO}"
						value="#{evaluacion.filtro.numeroIdentificacion}" />
				</div>
				<div class="col-md-4 text-left">
					<h:outputText id="lblPrimerNombre" value="${titles['LBL_TRANSVERSAL_PERSONAS_PRIMER_NOMBRE']}" styleClass="log-label form-label" />
				</div>
				<div class="col-md-8 text-center">
					<h:inputText id="primerNombre" styleClass="form-control-acti-usua"
						title="#{titles.TTL_INGRESAR} #{titles.LBL_TRANSVERSAL_PERSONAS_PRIMER_NOMBRE}"
						value="#{evaluacion.filtro.primerNombre}" />
				</div>
				<div class="col-md-4 text-left">
					<h:outputText id="lblSegundoNombre" value="${titles['LBL_TRANSVERSAL_PERSONAS_SEGUNDO_NOMBRE']}"  styleClass="log-label form-label"/>
				</div>
				<div class="col-md-8 text-center">
					<h:inputText id="segundoNombre" styleClass="form-control-acti-usua"
						title="#{titles.TTL_INGRESAR} #{titles.LBL_TRANSVERSAL_PERSONAS_SEGUNDO_NOMBRE}"
						value="#{evaluacion.filtro.segundoNombre}" />
				</div>
				<div class="col-md-4 text-left">
					<h:outputText id="lblPrimerApellido" value="${titles['LBL_TRANSVERSAL_PERSONAS_PRIMER_APELLIDO']}" styleClass="log-label form-label" />
				</div>
				<div class="col-md-8 text-center">
					<h:inputText id="primerApellido" styleClass="form-control-acti-usua"
						title="#{titles.TTL_INGRESAR} #{titles.LBL_TRANSVERSAL_PERSONAS_PRIMER_APELLIDO}"
						value="#{evaluacion.filtro.primerApellido}" />
				</div>
				<div class="col-md-4 text-left">
					<h:outputText id="lblSegundoApellido" value="${titles['LBL_TRANSVERSAL_PERSONAS_SEGUNDO_APELLIDO']}" styleClass="log-label form-label" />
				</div>
				<div class="col-md-8 text-center">
					<h:inputText id="segundoApellido" styleClass="form-control-acti-usua"
						title="#{titles.TTL_INGRESAR} #{titles.LBL_TRANSVERSAL_PERSONAS_SEGUNDO_APELLIDO}"
						value="#{evaluacion.filtro.segundoApellido}" />
				</div>
				<div class="col-md-12 text-center">
				<br /><br />
					<p:commandButton value="${titles['BTN_CT_BUSCAR']}" process="@this contains" update="contains" styleClass="btn btn-primary"
						ajax="true"
						actionListener="#{evaluacion.obtenerUsuariosFiltro()}">
					</p:commandButton>
				</div>
				<div class="col-md-12 text-center">&nbsp;<br /><br /></div>
			</div>
		<p:dataTable emptyMessage=" " id="dataTableEvs" var="persona" widgetVar="dataTableResultados" value="#{evaluacion.personas}" reflow="true">
			<p:column  headerText="Tipo documento">
				<h:outputText value="#{persona.tipoIdentificacionId.sigla}" styleClass="log-label form-label" />
			</p:column>
			<p:column  headerText="Número documento">
				<h:outputText value="#{persona.numeroIdentificacion}" styleClass="log-label form-label" />
			</p:column>
			<p:column  headerText="Primer Nombre">
				<h:outputText value="#{persona.primerNombre}" styleClass="log-label form-label" />
			</p:column>
			<p:column  headerText="Segundo Nombre">
				<h:outputText value="#{persona.segundoNombre}" styleClass="log-label form-label" />
			</p:column>
			<p:column headerText="Primer Apellido">
				<h:outputText value="#{persona.primerApellido}" styleClass="log-label form-label" />
			</p:column>
			<p:column headerText="Segundo Apellido">
				<h:outputText value="#{persona.segundoApellido}" styleClass="log-label form-label" />
			</p:column>
			<p:column headerText="Consultar evaluación">
				<p:commandButton process="dataTableEvs" action="#{evaluacion.redireccionar()}"
					value="Consultar / ver" >
					 <f:setPropertyActionListener value="#{persona}" target="#{evaluacion.personaSeleccionada}" />  
				</p:commandButton>
			</p:column>
			
		</p:dataTable>
	</ui:define>
	



</ui:composition>