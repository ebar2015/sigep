<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	template="/resources/template/pageTemplate.xhtml">

	<ui:param name="pageTitle" value="${titles['TTL_GI_BREADCRUMBS']}" />
	<ui:param name="pageSubtitle" value="#{catalogoBean.xml.nombre}" />

	<ui:define name="main">
		<h:outputStylesheet>
		.ui-selectonemenu-item.ui-selectonemenu-list-item.ui-corner-all.ui-state-highlight{
			color:#245379 !important;
			font-weight:bold;
		}
		.ui-selectonemenu-panel{
			min-width:10%!important;
			max-width:25%!important;
		}
		</h:outputStylesheet>
		<h:panelGroup id="panelReporte">
			<p:importEnum
				type="co.gov.dafp.sigep2.util.xml.reporte.config.TipoDato"
				var="PFTipoDato" />
			<p:importEnum
				type="co.gov.dafp.sigep2.util.xml.reporte.config.FormatoReporte"
				var="PFFormatoReporte" />
			<p:importEnum
				type="co.gov.dafp.sigep2.util.xml.reporte.config.TipoGrafico"
				var="PFTipoGrafico" />
			<p:importEnum
				type="co.gov.dafp.sigep2.util.xml.reporte.config.CalificadorComparacion"
				var="PFCalificador" />

			<div class="row">
				<div class="col-md-12" align="center">
					<h:panelGroup>
						<h2>
							<p:outputLabel value="• #{catalogoBean.xml.nombre} •"
								styleClass="page-subtitle" style="color: #263948!important;" />
						</h2>
					</h:panelGroup>
				</div>
			</div>
			<div class="col-md-2"></div>
			<div class="panel-body form-horizontal cuadrito col-md-12"
				style="margin: auto !important; padding-right: 0px !important; padding-left: 0px !important; padding-top: 12px !important; padding-bottom: 25px !important; background-color: white;">
				<!-- Formulario -->
				<h:panelGroup id="parametros" styleClass="row" layout="block">
					<ui:repeat value="#{catalogoBean.parametros}" var="parametro">
						<h:panelGroup layout="block" styleClass="col-md-3"
							rendered="#{parametro.rendered}">
							<p:outputLabel styleClass="log-label form-label-formularios"
								for="intParameter" value="#{parametro.label}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_INTEGER.value()}" />
							<p:outputLabel styleClass="log-label form-label-formularios"
								for="doubleParameter" value="#{parametro.label}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_DECIMAL.value() || parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_PERCENT.value()}" />
							<p:outputLabel styleClass="log-label form-label-formularios"
								for="dateParameter" value="#{parametro.label}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_DATE.value()}" />
							<p:outputLabel styleClass="log-label form-label-formularios"
								for="periodParameter" value="#{parametro.label}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_PERIOD.value()}" />
							<p:outputLabel styleClass="log-label form-label-formularios"
								for="dateStringParameter" value="#{parametro.label}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_DATE_STRING.value()}" />
							<p:outputLabel styleClass="log-label form-label-formularios"
								for="dateLargeParameter" value="#{parametro.label}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_DATE_LARGE.value()}" />
							<p:outputLabel styleClass="log-label form-label-formularios"
								for="firstDayAnioParameter" value="#{parametro.label}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_FIRST_DAY_ANIO.value()}" />
							<p:outputLabel styleClass="log-label form-label-formularios"
								for="lastDayAnioParameter" value="#{parametro.label}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_LAST_DAY_ANIO.value()}" />
							<p:outputLabel styleClass="log-label form-label-formularios"
								for="monthParameter" value="#{parametro.label}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_MONTH.value()}" />
							<p:outputLabel styleClass="log-label form-label-formularios"
								for="trimesterParameter" value="#{parametro.label}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_TRIMESTER.value()}" />
							<p:outputLabel styleClass="log-label form-label-formularios"
								for="semesterParameter" value="#{parametro.label}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_SEMESTER.value()}" />
							<p:outputLabel styleClass="log-label form-label-formularios"
								for="anioParameter" value="#{parametro.label}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_ANIO.value()}" />
							<p:outputLabel styleClass="log-label form-label-formularios"
								for="stringParameter" value="#{parametro.label}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_STRING.value()}" />
							<p:outputLabel styleClass="log-label form-label-formularios"
								for="queryParameter" value="#{parametro.label}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_QUERY.value()}" />
							<p:outputLabel styleClass="log-label form-label-formularios"
								for="csvParameter" value="#{parametro.label}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_CSV.value()}" />
							<p:outputLabel styleClass="log-label form-label-formularios"
								for="queryOpParameter" value="#{parametro.label}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_QUERY_OP.value()}" />
							<p:outputLabel styleClass="log-label form-label-formularios"
								for="csvOpParameter" value="#{parametro.label}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_CSV_OP.value()}" />
							<p:outputLabel styleClass="log-label form-label-formularios"
								for="booleanParameter" value="#{parametro.label}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_QUERY_OP.value()}" />


							<p:selectOneMenu id="calificadorParametroNumerico"
								title="${titles['TTL_SELECT']} ${titles['LBL_TRANSVERSAL_PLANTILLA_XML_PARAMETRO_CALIFICADOR']}"
								value="#{parametro.configuracionParametro.calificadorComparacion}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_DECIMAL.value() or parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_INTEGER.value() or parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_PERCENT.value() or parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_QUERY.value() or parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_QUERY_OP.value()}"
								filter="true" filterMatchMode="contains">
								<f:selectItem itemLabel="${titles['TTL_SELECT']}"
									itemValue="#{PFCalificador.TTL_REPORTES_IGUAL}"
									noSelectionOption="true" />
								<f:selectItems var="calificador"
									value="#{calificadoresNumericos}"
									itemLabel="#{titles[calificador]}" itemValue="#{calificador}" />
								<p:ajax event="change" process="@this" update="@this" />
							</p:selectOneMenu>
							<p:selectOneMenu id="calificadorParametroFecha"
								title="${titles['TTL_SELECT']} ${titles['LBL_TRANSVERSAL_PLANTILLA_XML_PARAMETRO_CALIFICADOR']}"
								value="#{parametro.configuracionParametro.calificadorComparacion}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_ANIO.value() or parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_DATE.value() or parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_DATE_LARGE.value() or parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_FIRST_DAY_ANIO.value() or parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_LAST_DAY_ANIO.value() or parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_DATE_STRING.value() or parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_MONTH.value() or parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_SEMESTER.value() or parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_TRIMESTER.value() or parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_PERIOD.value()}"
								filter="true" filterMatchMode="contains">
								<f:selectItem itemLabel="${titles['TTL_SELECT']}"
									itemValue="#{PFCalificador.TTL_REPORTES_IGUAL}"
									noSelectionOption="true" />
								<f:selectItems var="calificador" value="#{calificadoresFechas}"
									itemLabel="#{titles[calificador]}" itemValue="#{calificador}" />
								<p:ajax event="change" process="@this" update="@this" />
							</p:selectOneMenu>
							<p:selectOneMenu id="calificadorParametroCadena"
								title="${titles['TTL_SELECT']} ${titles['LBL_TRANSVERSAL_PLANTILLA_XML_PARAMETRO_CALIFICADOR']}"
								value="#{parametro.configuracionParametro.calificadorComparacion}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_STRING.value()}"
								filter="true" filterMatchMode="contains">
								<f:selectItem itemLabel="${titles['TTL_SELECT']}"
									itemValue="#{PFCalificador.TTL_REPORTES_IGNORAR}"
									noSelectionOption="true" />
								<f:selectItems var="calificador" value="#{calificadoresCadenas}"
									itemLabel="#{titles[calificador]}" itemValue="#{calificador}" />
								<p:ajax event="change" process="@this" update="@this" />
							</p:selectOneMenu>


							<p:inputText required="#{parametro.required}" 
								requiredMessage="${messages['DLG_VALOR_REQUERIDO']}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_INTEGER.value()}"
								id="intParameter" maxlength="38" value="#{parametro.value}"
								decimalPlaces="0" decimalSeparator="" thousandSeparator=""
								styleClass="form-control-form-act-usua-acti-usua">
							</p:inputText>

							<p:inputNumber id="doubleParameter"
								required="#{parametro.required}"
								requiredMessage="${messages['DLG_VALOR_REQUERIDO']}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_DECIMAL.value() || parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_PERCENT.value()}"
								maxValue="9999999999999.99" value="#{parametro.value}"
								decimalPlaces="2" decimalSeparator="." thousandSeparator=","
								styleClass="form-control-form-act-usua-acti-usua">
								<f:validateDoubleRange minimum="1" />
							</p:inputNumber>

							<p:calendar mask="true" id="dateParameter"
								style="background-color:white!important"
								required="#{parametro.required}"
								requiredMessage="${messages['DLG_VALOR_REQUERIDO']}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_DATE.value()}"
								yearRange="#{rangoAnios}" navigator="true"
								pattern="#{fechaFormato}" value="#{parametro.value}"
								locale="#{lenguajeBean.localeCode}"
								icon="fa fa-calendar">
							</p:calendar>


							<p:calendar mask="true" id="periodParameter"
								required="#{parametro.required}"
								requiredMessage="${messages['DLG_VALOR_REQUERIDO']}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_PERIOD.value()}"
								yearRange="#{rangoAnios}" navigator="true"
								pattern="#{periodoFormato}" value="#{parametro.value}"
								locale="#{lenguajeBean.localeCode}" 
								icon="fa fa-calendar">
							</p:calendar>

							<p:calendar mask="true" id="dateStringParameter"
								required="#{parametro.required}"
								requiredMessage="${messages['DLG_VALOR_REQUERIDO']}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_DATE_STRING.value()}"
								yearRange="#{rangoAnios}" navigator="true"
								pattern="#{fechaFormato}" value="#{parametro.value}"
								locale="#{lenguajeBean.localeCode}" icon="fa fa-calendar">
							</p:calendar>

							<p:calendar mask="true" id="dateLargeParameter"
								required="#{parametro.required}"
								requiredMessage="${messages['DLG_VALOR_REQUERIDO']}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_DATE_LARGE.value()}"
								yearRange="#{rangoAnios}" navigator="true"
								pattern="#{fechaHoraFormato}" value="#{parametro.value}"
								locale="#{lenguajeBean.localeCode}" icon="fa fa-calendar">
							</p:calendar>

							<p:calendar mask="true" id="firstDayAnioParameter"
								required="#{parametro.required}"
								requiredMessage="${messages['DLG_VALOR_REQUERIDO']}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_FIRST_DAY_ANIO.value()}"
								yearRange="#{rangoAnios}" navigator="true"
								pattern="#{fechaHoraFormato}" value="#{parametro.value}"
								mindate="#{primerDiaAnio}" locale="#{lenguajeBean.localeCode}"
								icon="fa fa-calendar">
								<f:attribute name="minDate" value="#{primerDiaAnio}" />
								<f:validator validatorId="minDateValidator" />
							</p:calendar>

							<p:calendar mask="true" id="lastDayAnioParameter"
								required="#{parametro.required}"
								requiredMessage="${messages['DLG_VALOR_REQUERIDO']}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_LAST_DAY_ANIO.value()}"
								yearRange="#{rangoAnios}" navigator="true"
								pattern="#{fechaHoraFormato}" value="#{parametro.value}"
								maxdate="#{ultimoDiaAnio}" locale="#{lenguajeBean.localeCode}"
								icon="fa fa-calendar">
								<f:attribute name="maxDate" value="#{ultimoDiaAnio}"
									styleClass="form-control-form-act-usua" />
								<f:validator validatorId="maxDateValidator" />
							</p:calendar>

							<p:selectOneMenu id="monthParameter" value="#{parametro.value}"
								required="#{parametro.required}"
								requiredMessage="${messages['DLG_VALOR_REQUERIDO']}"
								varStatus="loop"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_MONTH.value()}"
								filter="true" filterMatchMode="contains" var="t"
								styleClass="form-control-form-act-usua-form-act-usua">
								<f:selectItem itemLabel="${titles['TTL_SELECT']}"
									itemValue="#{null}" itemDisabled="#{parametro.required}" />
								<c:forEach items="#{meses}" var="origen" varStatus="loop">
									<f:selectItem itemValue="#{loop.index + 1}"
										itemLabel="#{origen}" />
								</c:forEach>
								<p:column>
									<h:outputText value="#{t}" />
								</p:column>
							</p:selectOneMenu>

							<p:selectOneMenu id="trimesterParameter"
								value="#{parametro.value}" required="#{parametro.required}"
								requiredMessage="${messages['DLG_VALOR_REQUERIDO']}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_TRIMESTER.value()}"
								filter="true" filterMatchMode="contains" var="t"
								styleClass="form-control-form-act-usua-form-act-usua">
								<f:selectItem itemLabel="${titles['TTL_SELECT']}"
									itemValue="#{null}" itemDisabled="#{parametro.required}" />
								<f:selectItems value="#{trimestres}" var="origen"
									itemValue="#{origen}" itemLabel="#{origen}" />
								<p:column>
									<h:outputText value="#{t}" />
								</p:column>
							</p:selectOneMenu>

							<p:selectOneMenu id="semesterParameter"
								value="#{parametro.value}" required="#{parametro.required}"
								requiredMessage="${messages['DLG_VALOR_REQUERIDO']}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_SEMESTER.value()}"
								filter="true" filterMatchMode="contains" var="t"
								styleClass="form-control-form-act-usua-form-act-usua">
								<f:selectItem itemLabel="${titles['TTL_SELECT']}"
									itemValue="#{null}" itemDisabled="#{parametro.required}" />
								<f:selectItems value="#{semestres}" var="origen"
									itemValue="#{origen}" itemLabel="#{origen}" />
								<p:column>
									<h:outputText value="#{t}" />
								</p:column>
							</p:selectOneMenu>

							<p:selectOneMenu id="anioParameter" value="#{parametro.value}"
								required="#{parametro.required}"
								requiredMessage="${messages['DLG_VALOR_REQUERIDO']}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_ANIO.value()}"
								filter="true" filterMatchMode="contains" var="t"
								styleClass="form-control-form-act-usua-form-act-usua">
								<f:selectItem itemLabel="${titles['TTL_SELECT']}"
									itemValue="#{null}" itemDisabled="#{parametro.required}" />
								<f:selectItems value="#{anios}" var="origen"
									itemValue="#{origen}" itemLabel="#{origen}" />
								<p:column>
									<h:outputText value="#{t}" />
								</p:column>
							</p:selectOneMenu>

							<p:inputText id="stringParameter" value="#{parametro.value}" autocomplete="off"
								required="#{parametro.required}"
								requiredMessage="${messages['DLG_VALOR_REQUERIDO']}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_STRING.value()}"
								styleClass="form-control-form-act-usua-acti-usua"
								
								>
								
							</p:inputText>

							<h:selectOneMenu id="queryParameter" value="#{parametro.value}"
								required="#{parametro.required}"
								requiredMessage="${messages['DLG_VALOR_REQUERIDO']}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_QUERY.value()}"
								filter="true" filterMatchMode="contains" var="t"
								styleClass="form-control-form-act-usua">
								<f:selectItem itemLabel="${titles['TTL_SELECT']}"
									itemValue="#{null}" itemDisabled="#{parametro.required}" />
								<f:selectItems
									value="#{catalogoBean.getListaQuery(parametro.source)}"
									var="origen" itemValue="#{origen}" itemLabel="#{origen.key}" />
								<p:column>
									<h:outputText value="#{t.key}" />
								</p:column>
							</h:selectOneMenu>

							<p:selectOneMenu id="csvParameter" value="#{parametro.value}"
								required="#{parametro.required}"
								requiredMessage="${messages['DLG_VALOR_REQUERIDO']}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_CSV.value()}"
								filter="true" filterMatchMode="contains" var="t"
								styleClass="form-control-form-act-usua-form-act-usua">
								<f:selectItem itemLabel="${titles['TTL_SELECT']}"
									itemValue="#{null}" itemDisabled="#{parametro.required}" />
								<f:selectItems
									value="#{catalogoBean.getListaCSV(parametro.source)}"
									var="origen" itemValue="#{origen}" itemLabel="#{origen.key}" />
								<p:column>
									<h:outputText value="#{t.key}" />
								</p:column>
							</p:selectOneMenu>

							<p:panelGrid columnClasses="component" columns="1"
								captionClass="component"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_QUERY_OP.value()}">
								<p:selectOneRadio id="queryOpParameter"
									value="#{parametro.value}" required="#{parametro.required}"
									requiredMessage="${messages['DLG_VALOR_REQUERIDO']}"
									rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_QUERY_OP.value()}"
									columns="1" styleClass="form-control-form-act-usua">
									<f:selectItems
										value="#{catalogoBean.getListaQuery(parametro.source)}"
										var="origen" itemValue="#{origen.key}" itemLabel="#{origen}" />
								</p:selectOneRadio>
							</p:panelGrid>

							<p:panelGrid columnClasses="component" columns="1"
								captionClass="component"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_CSV_OP.value()}">
								<p:selectOneRadio id="csvOpParameter" value="#{parametro.value}"
									required="#{parametro.required}"
									requiredMessage="${messages['DLG_VALOR_REQUERIDO']}"
									rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_CSV_OP.value()}"
									columns="1" styleClass="form-control-form-act-usua">
									<f:selectItems
										value="#{catalogoBean.getListaCSV(parametro.source)}"
										var="origen" itemValue="#{origen.key}" itemLabel="#{origen}" />
								</p:selectOneRadio>
							</p:panelGrid>

							<p:selectBooleanCheckbox id="booleanParameter"
								required="#{parametro.required}"
								requiredMessage="${messages['DLG_VALOR_REQUERIDO']}"
								value="#{parametro.value}" itemLabel="#{parametro.source}"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_BOOLEAN.value()}"
								styleClass="form-control-form-act-usua">
							</p:selectBooleanCheckbox>

							<p:message for="intParameter" display="text"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_INTEGER.value()}" />
							<p:message for="doubleParameter" display="text"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_DECIMAL.value() || parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_PERCENT.value()}" />
							<p:message for="dateParameter" display="text"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_DATE.value()}" />
							<p:message for="periodParameter" display="text"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_PERIOD.value()}" />
							<p:message for="dateStringParameter" display="text"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_DATE_STRING.value()}" />
							<p:message for="dateLargeParameter" display="text"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_DATE_LARGE.value()}" />
							<p:message for="firstDayAnioParameter" display="text"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_FIRST_DAY_ANIO.value()}" />
							<p:message for="lastDayAnioParameter" display="text"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_LAST_DAY_ANIO.value()}" />
							<p:message for="monthParameter" display="text"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_MONTH.value()}" />
							<p:message for="trimesterParameter" display="text"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_TRIMESTER.value()}" />
							<p:message for="semesterParameter" display="text"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_SEMESTER.value()}" />
							<p:message for="anioParameter" display="text"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_ANIO.value()}" />
							<p:message for="stringParameter" display="text"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_STRING.value()}" />
							<p:message for="queryParameter" display="text"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_QUERY.value()}" />
							<p:message for="csvParameter" display="text"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_CSV.value()}" />
							<p:message for="queryOpParameter" display="text"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_QUERY_OP.value()}" />
							<p:message for="csvOpParameter" display="text"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_CSV_OP.value()}" />
							<p:message for="booleanParameter" display="text"
								rendered="#{parametro.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_BOOLEAN.value()}" />
						</h:panelGroup>
					</ui:repeat>
					<br />
				</h:panelGroup>

				<!-- DataTable  -->
				<br />
				<h:panelGroup>
					<div class="row row-background-white">
						<br />
						<div class="col-md-12" align="right">

							
							<h:panelGroup>
								<p:commandButton id="cancelBtn" value="${titles['TTL_FINALIZE']}"
									title="${titles['TTL_FINALIZE']}" process="@this" update="@form"
									styleClass="btn btn-primary" style="padding: 0% !important;"
									action="#{catalogoReporteBean.cancelar()}">
								</p:commandButton>	
							</h:panelGroup>	
							
							<div class="col-md-3 check-media">
								<p:outputLabel value="• ${titles['TTL_GI_SELECCIONAR_TODAS_ENTIDADES']}"
									for="sbcbTodasEntidadesconsult"
									styleClass="log-label form-label-formularios" 
									rendered="#{catalogoBean.lbMostrarFiltroTodasEntidades}" />
								<p:spacer width="4" />
								<p:selectBooleanCheckbox id="sbcbTodasEntidadesconsult"
									value="#{catalogoBean.lbAplicarFiltroTodasEntidades}"
									rendered="#{catalogoBean.lbMostrarFiltroTodasEntidades}">
											<p:ajax process="@this" update="sbcbTodasEntidadesconsult"/>
								</p:selectBooleanCheckbox>
							</div>	

							<p:commandButton id="searchBtn"
								onstart="PF('statusDialog').show()"
								oncomplete="PF('statusDialog').hide()"
								onsuccess="PF('statusDialog').hide()"
								value="${titles['TTL_SUB_TRANSVERSAL_REPORTEADOR_CONSULTAR']}"
								title="${titles['TTL_SUB_TRANSVERSAL_REPORTEADOR_CONSULTAR']}"
								process="@form" update="@this,panelReporte"
								styleClass="btn btn-primary" style="padding: 0% !important;"
								actionListener="#{catalogoReporteBean.generarReporte}"
								rendered="#{not empty catalogoBean.parametros}" />
							<p:spacer width="2" rendered="#{not empty catalogoBean.parametros}" />
							<p:commandButton id="chartBtn" value="${titles['BTN_TABLA_VER']}"
								title="#{titles.BTN_TABLA_VER} #{titles[catalogoBean.xml.tipoGrafico]}"
								actionListener="#{graficoBean.init(catalogoBean.xml.tipoGrafico, pageSubtitle)}"
								process="@this"
								update="@this,@widgetVar(showChart),@widgetVar(showImage)"
								styleClass="btn btn-primary" style="padding: 0% !important;"
								oncomplete="PF('showChart').show();"
								rendered="#{catalogoBean.xml.tipoGrafico ne null}" />
							<p:spacer width="2"
								rendered="#{catalogoBean.xml.tipoGrafico ne null}" />
							<p:commandButton id="downloadExcel"
								value="${titles['TTL_DOWNLOAD']} Excel"
								title="${titles['TTL_DOWNLOAD']}" ajax="false"
								rendered="#{catalogoBean.xml ne null and catalogoBean.xml.formatoReporte eq PFFormatoReporte.TTL_REPORTES_FORMATO_EXCEL and catalogoBean.habilitarBotonesExportar}"
								immediate="true" 
								styleClass="btn btn-primary" style="padding: 0% !important;">
								<pe:exporter type="xlsx" target="resultados"
									fileName="#{catalogoBean.xml.nombre} #{fechaSistemaString}"
									postProcessor="#{catalogoBean.postProcessXLS}" />
							</p:commandButton>
							<p:commandButton id="downloadCSV"
								value="${titles['TTL_DOWNLOAD']} CSV"
								title="${titles['TTL_DOWNLOAD']} CSV" ajax="false"
								rendered="#{catalogoBean.xml ne null and catalogoBean.xml.formatoReporte eq PFFormatoReporte.TTL_REPORTES_FORMATO_CSV and catalogoBean.habilitarBotonesExportar}"
								immediate="true" icon="fa fa-fw fa-download"
								styleClass="btn btn-transparent" style="padding: 0% !important;">
								<p:dataExporter type="csv" target="resultados"
									tableTitle="#{catalogoBean.xml.nombre}"
									fileName="#{catalogoBean.xml.nombre} #{fechaSistemaString}" />
							</p:commandButton>
							<p:commandButton id="downloadPDF"
								value="${titles['TTL_DOWNLOAD']} PDF"
								title="${titles['TTL_DOWNLOAD']} PDF" ajax="false"
								rendered="#{catalogoBean.xml ne null and catalogoBean.xml.formatoReporte eq PFFormatoReporte.TTL_REPORTES_FORMATO_PDF and catalogoBean.habilitarBotonesExportar}"
								immediate="true" icon="fa fa-fw fa-download"
								styleClass="btn btn-transparent" style="padding: 0% !important;">
								<pe:exporter type="pdf" target="resultados"
									fileName="#{catalogoBean.xml.nombre} #{fechaSistemaString}"
									postProcessor="#{catalogoBean.postProcessPDF}"
									orientation="Landscape" facetBackground="#FFFFFF"
									facetFontSize="10" facetFontColor="#000000"
									facetFontStyle="BOLD" cellFontColor="#000000" cellFontSize="10"
									cellFontStyle="NORMAL" />
							</p:commandButton>
						</div>
						<br />
						<!-- Resultados consulta -->
						<div class="row">
							<div class="col-md-12"
								style="padding-left: 2% !important; padding-right: 2% !important;">
								<p:panel id="panelTableResultado"
									widgetVar="panelTableResultado"
									style="background: transparent; padding: 0px!important;">
									<p:dataTable id="resultados" lazy="true"
										draggableColumns="true" tableStyle="margin:0 auto;width:auto"
										paginator="#{catalogoBean.resultados.rowCount gt 0}"
										rowKey="#{item.id}" value="#{catalogoBean.resultados}"
										rows="#{paginatorSize}"
										currentPageReportTemplate="{currentPage} ${titles['LBL_DE']} {totalPages}"
										paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
										rowsPerPageTemplate="#{paginatorsSize}" var="registros"
										emptyMessage="#{catalogoBean.mensajeValidaciones}"
										rowIndexVar="indice" sortMode="multiple">
										<p:columns var="column" value="#{catalogoBean.columns}"
											headerText="#{column.header}"
											style="word-wrap: break-word!important;#{(column.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_DECIMAL.value() or column.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_PERCENT.value() or column.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_INTEGER.value()) ? 'text-align:right;width:1px;white-space:nowrap;' : ((column.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_LINK.value() or column.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_TOOLTIP.value()) ? 'text-align:center;width:1px;white-space:nowrap;' : 'text-align:left;width:1px;white-space:nowrap;')}"
											exportable="#{column.type ne PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_LINK.value() and column.type ne PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_TOOLTIP.value() and column.type ne PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_CRUD.value()}"
											sortBy="#{column.property}"
											sortable="#{reporteBean.resultados.rowCount gt 1}">
											<f:facet name="header">
												<h:outputText value="#{column.header}" />
											</f:facet>
											<h:outputText title="#{column.title}"
												value="#{registros.item.get(column.index).dateValue}"
												rendered="#{column.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_ANIO.value()}">
												<f:convertDateTime pattern="#{anioFormato}" />
											</h:outputText>
											<h:outputText title="#{column.title}"
												value="#{registros.item.get(column.index).dateValue}"
												rendered="#{column.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_ANIO.value()}">
												<f:convertDateTime pattern="#{anioFormato}" />
											</h:outputText>
											<h:outputText title="#{column.title}"
												value="#{registros.item.get(column.index).dateValue}"
												rendered="#{column.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_TRIMESTER.value()}" />
											<h:outputText title="#{column.title}"
												value="#{registros.item.get(column.index).dateValue}"
												rendered="#{column.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_SEMESTER.value()}" />
											<h:outputText title="#{column.title}"
												value="#{registros.item.get(column.index).dateValue}"
												rendered="#{column.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_PERIOD.value()}">
												<f:convertDateTime pattern="#{periodoFormato}" />
											</h:outputText>
											<h:outputText title="#{column.title}"
												value="#{registros.item.get(column.index).getValorFormateado(column.type, column.mask)}"
												rendered="#{column.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_DATE.value()}">
												<f:convertDateTime pattern="#{fechaFormato}" />
											</h:outputText>
											<h:outputText title="#{column.title}"
												value="#{registros.item.get(column.index).dateValue}"
												rendered="#{column.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_DATE_LARGE.value()}">
												<f:convertDateTime pattern="#{fechaHoraFormato}" />
											</h:outputText>
											<h:outputText title="#{column.title}"
												
												value="#{registros.item.get(column.index).getValorFormateado(column.type, column.mask)}"
												rendered="#{column.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_STRING.value()}" />

											<h:outputText title="#{column.title}"
												value="#{registros.item.get(column.index).getValorFormateado(column.type, column.mask)}"
												rendered="#{column.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_DECIMAL.value() 
												        or column.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_PERCENT.value() 
												        or column.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_INTEGER.value()}">
												<f:convertNumber pattern="#{column.mask}" />
											</h:outputText>											
											
											
											<h:outputText title="#{column.title}"
												value="#{registros.item.get(column.index).stringValue}"
												rendered="#{column.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_ANIO.value()}" />
											<p:link id="linkToolTip" href="#"
												value="#{column.headerAlias}"
												rendered="#{!empty registros.item.get(column.index).stringValue and column.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_TOOLTIP.value()}" />
											<p:tooltip id="toolTip"
												rendered="#{!empty registros.item.get(column.index).stringValue and column.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_TOOLTIP.value()}"
												for="linkToolTip" escape="false" hideDelay="3000"
												globalSelector="true"
												value="#{catalogoBean.getExecQuery(registros.item.get(column.index).stringValue)}"
												showEffect="clip" hideEffect="clip" position="left"
												style="max-width:80%" />
											
											<!-- 
											<p:commandLink id="linkNotUpdate"
												value="#{column.headerAlias}" process="@this" update="@this"
												actionListener="#{catalogoBean.abrirDetalle(registros.item.get(column.index).stringValue)}"
												title="#{registros.item.get(column.index).stringValue.split(';')[0]}"
												rendered="#{!empty registros.item.get(column.index).stringValue and column.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_LINK.value() and !catalogoBean.actualizarFormularioConsultarDetalle}">
											</p:commandLink>
											<p:commandLink id="linkUpdate" value="#{column.headerAlias}"
												process="@this" update="@form"
												actionListener="#{catalogoBean.abrirDetalle(registros.item.get(column.index).stringValue)}"
												title="#{registros.item.get(column.index).stringValue.split(';')[0]}"
												rendered="#{!empty registros.item.get(column.index).stringValue and column.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_LINK.value() and catalogoBean.actualizarFormularioConsultarDetalle}">
											</p:commandLink>
											 -->
											
											<p:commandButton
												title="#{titles.TTL_PRINT}"
												ajax="false"
												onclick="this.form.target='_blank'"
												action="#{catalogoBean.abrinVinculo(registros.item.get(column.index).stringValue)}"
												process="@this"
												icon="icon-print"
												styleClass="icon-btn"
												rendered="#{!empty registros.item.get(column.index).stringValue and column.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_LINK.value() and !reporteBean.actualizarFormularioConsultarDetalle}">
											</p:commandButton>												
											
											
											<h:panelGroup
												rendered="#{column.type eq PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_CRUD.value()}">
												<c:forEach items="#{permisosUsuarioRol}" var="crud"
													varStatus="loop">
													<p:commandButton value=" " icon="#{crud.icono}"
														styleClass="icon-btn"
														actionListener="#{catalogoBean.abrirAccion(registros.item.get(column.index).longValue, crud.pagina)}"
														title="#{titles[crud.accion]}" process="@this"
														update="@form" />
													<p:spacer width="20" />
												</c:forEach>
											</h:panelGroup>
										</p:columns>
										<p:columnGroup type="footer"
											rendered="#{catalogoBean.resultados.rowCount ge 1 and fn:length(catalogoBean.totales) ge 1 and !empty catalogoBean.totales.get(0).valorFormateado}">
											<p:row rendered="#{fn:length(catalogoBean.totales) > 0}">
												<p:columns var="column" value="#{catalogoBean.columns}"
													style="text-align:right"
													footerText="#{(fn:length(catalogoBean.totales) ge (column.index + 1)) ? catalogoBean.totales.get(column.index).valorFormateado : ''}"
													exportable="#{column.type ne PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_LINK.value() and column.type ne PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_TOOLTIP.value() and column.type ne PFTipoDato.TTL_REPORTES_FORMA_TIPO_DATO_CRUD.value()}">
												</p:columns>
											</p:row>
										</p:columnGroup>
									</p:dataTable>
								</p:panel>
							</div>
						</div>
					</div>
					<div class="col-md-12" align="left">
						<br />
						<p:outputLabel
							value="${titles['LBL_TRANSVERSAL_REPORTEADOR_TOTAL_REGISTROS']}" />
						<p:spacer width="10" />
						<h:outputText value="#{catalogoBean.resultados.rowCount}">
							<f:convertNumber pattern="#{enteroFormato}" />
						</h:outputText>
					</div>
				</h:panelGroup>
			</div>
			<!--
			<p:defaultCommand target="frmPrincipal:downloadExcel"
				rendered="#{catalogoBean.xml ne null and catalogoBean.xml.formatoReporte eq PFFormatoReporte.TTL_REPORTES_FORMATO_EXCEL}" />
			<p:defaultCommand target="frmPrincipal:downloadCSV"
				rendered="#{catalogoBean.xml ne null and catalogoBean.xml.formatoReporte eq PFFormatoReporte.TTL_REPORTES_FORMATO_PDF}" />
			<p:defaultCommand target="frmPrincipal:downloadPDF"
				rendered="#{catalogoBean.xml ne null and catalogoBean.xml.formatoReporte eq PFFormatoReporte.TTL_REPORTES_FORMATO_CSV}" />
			-->
			<p:defaultCommand target="frmPrincipal:searchBtn" />
			<ui:include src="/gestion-informacion/reporte/grafico.xhtml" />
		</h:panelGroup>
	</ui:define>
</ui:composition>
